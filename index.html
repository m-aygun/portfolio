<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.547">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mette">
<meta name="dcterms.date" content="2024-01-24">
<meta name="description" content="Prediction of viewers for VFF homegames">

<title>Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="index_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="index_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="index_files/libs/datatables-binding-0.30/datatables.js"></script>
<script src="index_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="index_files/libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="index_files/libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="index_files/libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="index_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="index_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Portfolio</h1>
                  <div>
        <div class="description">
          Prediction of viewers for VFF homegames
        </div>
      </div>
                </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Mette </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Erhvervsakademi Dania
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 24, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">2</span> Analysis</a>
  <ul class="collapse">
  <li><a href="#reading-libraries" id="toc-reading-libraries" class="nav-link" data-scroll-target="#reading-libraries"><span class="header-section-number">2.1</span> Reading libraries</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data"><span class="header-section-number">2.2</span> Importing data</a></li>
  <li><a href="#crisp-dm-metodology" id="toc-crisp-dm-metodology" class="nav-link" data-scroll-target="#crisp-dm-metodology"><span class="header-section-number">2.3</span> CRISP-DM metodology</a>
  <ul class="collapse">
  <li><a href="#business-understanding" id="toc-business-understanding" class="nav-link" data-scroll-target="#business-understanding"><span class="header-section-number">2.3.1</span> Business understanding</a></li>
  <li><a href="#data-understanding" id="toc-data-understanding" class="nav-link" data-scroll-target="#data-understanding"><span class="header-section-number">2.3.2</span> Data Understanding</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation"><span class="header-section-number">2.3.3</span> Data Preparation</a></li>
  <li><a href="#modeling" id="toc-modeling" class="nav-link" data-scroll-target="#modeling"><span class="header-section-number">2.3.4</span> Modeling</a></li>
  <li><a href="#evaluation" id="toc-evaluation" class="nav-link" data-scroll-target="#evaluation"><span class="header-section-number">2.3.5</span> Evaluation</a></li>
  <li><a href="#implementation" id="toc-implementation" class="nav-link" data-scroll-target="#implementation"><span class="header-section-number">2.3.6</span> Implementation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">3</span> Conclusion</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="DALL·E%202024-01-20%2008.21.21%20-%20Create%20an%20image%20of%20a%20soccer%20player%20in%20a%20dynamic%20pose,%20looking%20upwards%20towards%20a%20soccer%20ball%20suspended%20in%20the%20air.%20The%20player%20is%20surrounded%20by%20futurist.png" class="img-fluid figure-img" alt="Soccerplayer data"></p>
<figcaption>Soccerplayer data</figcaption>
</figure>
</div>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>In the dynamic world of sports, the ability to anticipate game attendance is crucial for effective stadium management, marketing strategies, and fan engagement. This project presents a comprehensive prediction model specifically designed for estimating the number of viewers attending home games of Viborg FF, a prominent Danish soccer club. By leveraging data-driven approaches and advanced analytical techniques, the model aims to provide accurate forecasts that can assist in optimizing the overall matchday experience.</p>
<p>Viborg FF, with its rich history and dedicated fanbase, presents an interesting case study for attendance prediction. The club’s performance, league standings, opponent strength, ticket pricing, weather conditions, and special events are among the numerous factors that can influence game attendance. This project delves into these aspects, utilizing historical data and statistical methods to build a robust predictive framework.</p>
<p>The objective of this endeavor is not only to aid Viborg FF in planning and resource allocation but also to contribute to the broader field of sports analytics. By offering insights into fan behavior and attendance patterns, this model seeks to enhance the understanding of factors driving spectator turnout in soccer, particularly within the context of Danish football.</p>
<p>In the following sections, the methodology, data sources, analytical techniques, and results of the prediction model will be thoroughly discussed, demonstrating the model’s effectiveness and potential applications.</p>
</section>
<section id="analysis" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Analysis</h1>
<p>The project embarked on developing a predictive model for estimating the attendance at Viborg FF home games with a structured and methodical approach. The initial stage involved importing data through API calls and web scraping, a technique that proved essential in gathering a diverse range of public data. This included team performance statistics, league standing, TV channels, weather conditions, and details of special events.</p>
<section id="reading-libraries" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="reading-libraries"><span class="header-section-number">2.1</span> Reading libraries</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(<span class="st">"rvest"</span>, <span class="st">"purrr"</span>, <span class="st">"data.table"</span>, <span class="st">"stringr"</span>, <span class="st">"tidyr"</span>, <span class="st">"zoo"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">"DT"</span>, <span class="st">"janitor"</span>, <span class="st">"chron"</span>, <span class="st">"rlist"</span>, <span class="st">"rjstat"</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"rjson"</span>, <span class="st">"Rcrawler"</span>, <span class="st">"magrittr"</span>, <span class="st">"gapminder"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Lahman"</span>, <span class="st">"maps"</span>, <span class="st">"lubridate"</span>, <span class="st">"pryr"</span>, <span class="st">"hms"</span>, <span class="st">"hexbin"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"feather"</span>, <span class="st">"htmlwidgets"</span>, <span class="st">"broom"</span>, <span class="st">"pander"</span>, <span class="st">"modelr"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"XML"</span>, <span class="st">"httr"</span>, <span class="st">"jsonlite"</span>, <span class="st">"microbenchmark"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"splines"</span>, <span class="st">"ISLR2"</span>, <span class="st">"MASS"</span>, <span class="st">"testthat"</span>, <span class="st">"leaps"</span>, <span class="st">"caret"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">"RSQLite"</span>, <span class="st">"class"</span>, <span class="st">"nasaweather"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"fueleconomy"</span>, <span class="st">"viridis"</span>, <span class="st">"boot"</span>, <span class="st">"glmnet"</span>, <span class="st">"pls"</span>, <span class="st">"tidyverse"</span>, <span class="st">"GGally"</span>, <span class="st">"reshape2"</span>, <span class="st">"ggplot2"</span>, <span class="st">"dplyr"</span>,<span class="st">"corrplot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="importing-data" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="importing-data"><span class="header-section-number">2.2</span> Importing data</h2>
<p>Data is imported by API-call and webscrabing. All the data is publicly available. Data is imported from DMI, DST, kalender365.dk and www.superstats.dk. By the end dataset are merged and cleaned in order to do the statistical analysis. Different variables are added in order to perform explorative analysis.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Vi starter med at hente  tabeller for superligaen, alle sæsoner mellem 2007/2008 - 2023/2024</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Superliga kampprogram for sæson 2007/2008 - 2023/2024 -------------------</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion til at hente og behandle data fra en tabel</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>scrape_and_process_table <span class="ot">&lt;-</span> <span class="cf">function</span>(url, table_number) {</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Hent HTML fra websiden</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Hent tabel med det angivne nummer</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  table <span class="ot">&lt;-</span> <span class="fu">html_table</span>(page, <span class="at">fill =</span> <span class="cn">TRUE</span>, <span class="at">convert =</span> <span class="cn">FALSE</span>)[[table_number]]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Giv kolonnerne de ønskede navne</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(table) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ugedag"</span>, <span class="st">"Dato"</span>, <span class="st">"Hold"</span>, <span class="st">"Score"</span>, <span class="st">"Tilskuere"</span>, <span class="st">"Dommer"</span>, <span class="st">"Ekstra"</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tilføj en ny kolonne 'Runde' med værdien svarende til tabelnummeret</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  table<span class="sc">$</span>Runde <span class="ot">&lt;-</span> table_number</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Udtræk sæsonsværdien fra URL'en og tilføj en sæsonkolonne</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  table<span class="sc">$</span>Sæson <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(url, <span class="st">"</span><span class="sc">\\</span><span class="st">d{4}%2F</span><span class="sc">\\</span><span class="st">d{4}"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  table<span class="sc">$</span>Ugedag <span class="ot">&lt;-</span> <span class="fu">as.character</span>(table<span class="sc">$</span>Ugedag)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(table)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste med sæsoner fra 2007/2008 til 2022/2023</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>seasons <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2007</span>, <span class="dv">2022</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Tom liste til at gemme resultater fra hver sæson</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>seasons_results <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion til at finde antallet af tabeller, der indeholder "Runde"</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>find_number_of_round_tables <span class="ot">&lt;-</span> <span class="cf">function</span>(url) {</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  tables <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(page, <span class="st">"table"</span>)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  round_tables <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">str_detect</span>(<span class="fu">html_text</span>(tables), <span class="st">"Runde|runde"</span>))</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(round_tables)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over sæsoner</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (season <span class="cf">in</span> seasons) {</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Angiv URL'en for den aktuelle sæson</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://superstats.dk/program?aar="</span>, season, <span class="st">"%2F"</span>, season <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find tabeller, der indeholder "Runde"</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>  round_tables <span class="ot">&lt;-</span> <span class="fu">find_number_of_round_tables</span>(url)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Loop over de fundne tabeller og gem resultaterne i en liste</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>  tables_list <span class="ot">&lt;-</span> <span class="fu">map_df</span>(round_tables, <span class="sc">~</span> <span class="fu">scrape_and_process_table</span>(url, .x))</span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Bind tablerne sammen i en enkelt data frame</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>  season_result_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tables_list)</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fjern kolonne 'Ekstra'</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  season_result_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(season_result_df, <span class="sc">-</span>Ekstra)</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gem resultatet for denne sæson i den overordnede liste</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  seasons_results[[<span class="fu">as.character</span>(season)]] <span class="ot">&lt;-</span> season_result_df</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind tablerne fra alle sæsoner sammen i en samlet data frame for sæsoner</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>final_season_result <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(seasons_results)</span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstat %2F med / i Sæson</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>final_season_result <span class="ot">&lt;-</span> final_season_result <span class="sc">%&gt;%</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(Sæson <span class="ot">=</span> <span class="fu">str_replace</span>(Sæson, <span class="st">"%2F"</span>, <span class="st">"/"</span>))</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>allesasoner <span class="ot">&lt;-</span> final_season_result</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Her henter vi den sidste superligasæson 2023/2024 -----------------------</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a><span class="co"># URL til websiden</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>url1 <span class="ot">&lt;-</span> <span class="st">"https://superstats.dk/program"</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Hent websidens indhold</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>page <span class="ot">&lt;-</span> <span class="fu">GET</span>(url1)</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse HTML indholdet</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>page_content <span class="ot">&lt;-</span> <span class="fu">read_html</span>(page)</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Find alle &lt;th&gt; elementer med klassen "leftalign", der indeholder "Runde"</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>runde_navne <span class="ot">&lt;-</span> page_content <span class="sc">%&gt;%</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">"th.leftalign"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  .[<span class="fu">str_detect</span>(., <span class="st">"Runde"</span>)]</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Find alle tabeller i HTML indholdet</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">html_table</span>(page_content, <span class="at">fill =</span> <span class="cn">TRUE</span>, <span class="at">convert =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret en tom liste til at gemme tibbles</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>tibble_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Behandl hver tabel og gem som tibble i listen</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(tables)) {</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">ncol</span>(tables[[i]]) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;&amp;</span> i <span class="sc">&lt;=</span> <span class="fu">length</span>(runde_navne)) {</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tjek antallet af kolonner og tilføj et ekstra kolonnenavn, hvis det er nødvendigt</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">ncol</span>(tables[[i]]) <span class="sc">&gt;</span> <span class="dv">6</span>) {</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>      <span class="fu">colnames</span>(tables[[i]]) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ugedag"</span>, <span class="st">"Dato"</span>, <span class="st">"Hold"</span>, <span class="st">"Score"</span>, <span class="st">"Tilskuere"</span>, <span class="st">"Dommer"</span>, <span class="fu">paste</span>(<span class="st">"Ekstra"</span>, <span class="dv">1</span><span class="sc">:</span>(<span class="fu">ncol</span>(tables[[i]]) <span class="sc">-</span> <span class="dv">6</span>)))</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>      <span class="fu">colnames</span>(tables[[i]]) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ugedag"</span>, <span class="st">"Dato"</span>, <span class="st">"Hold"</span>, <span class="st">"Score"</span>, <span class="st">"Tilskuere"</span>, <span class="st">"Dommer"</span>)</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Udtræk runde nummeret fra teksten</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>    runde_nummer <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(runde_navne[i], <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tilføj runde nummeret som en kolonne</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>    tables[[i]]<span class="sc">$</span>Runde <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(runde_nummer)</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tilføj 'Sæson' kolonne med værdien '2023/2024'</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>    tables[[i]]<span class="sc">$</span>Sæson <span class="ot">&lt;-</span> <span class="st">'2023/2024'</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Konverter til tibble og gem i listen</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>    tibble_table <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(tables[[i]])</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>    tibble_list[[i]] <span class="ot">&lt;-</span> tibble_table</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>    <span class="fu">warning</span>(<span class="fu">paste</span>(<span class="st">"Tabel"</span>, i, <span class="st">"har ikke nok kolonner og/eller mangler et tabelnavn og er udeladt."</span>))</span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombiner alle tibbles til én enkelt tibble</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>combined_tibble <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tibble_list)</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>Sason2324 <span class="ot">&lt;-</span> combined_tibble <span class="sc">|&gt;</span> </span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Ekstra 1"</span>)</span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a><span class="co">#kombiner de to datasæt</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>superliga <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(Sason2324, allesasoner)</span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>superliga <span class="ot">&lt;-</span> superliga <span class="sc">%&gt;%</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dato_udtrukket =</span> <span class="fu">parse_date_time</span>(Dato, <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">"dmHM"</span>, <span class="st">"dHM"</span>)),</span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dato_udtrukket =</span> <span class="fu">if_else</span>(<span class="fu">year</span>(Dato_udtrukket) <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">update</span>(Dato_udtrukket, <span class="at">year =</span> <span class="fu">sample</span>(<span class="dv">2020</span>, <span class="dv">1</span>)),</span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>                             Dato_udtrukket)</span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>superliga<span class="sc">$</span>Tid_udtrukket <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">parse_date_time</span>(superliga<span class="sc">$</span>Dato, <span class="at">orders =</span> <span class="fu">c</span>(<span class="st">"dmHM"</span>, <span class="st">"dHM"</span>)), <span class="st">"%H:%M"</span>)</span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a>superliga1 <span class="ot">&lt;-</span> superliga <span class="sc">%&gt;%</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dato_udtrukket =</span> <span class="fu">as.Date</span>(Dato_udtrukket),  <span class="co"># Konverterer POSIXct til Date</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>    Å<span class="at">rstal =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>      <span class="fu">month</span>(Dato_udtrukket) <span class="sc">%in%</span> <span class="dv">7</span><span class="sc">:</span><span class="dv">12</span> <span class="sc">~</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Sæson, <span class="st">"^</span><span class="sc">\\</span><span class="st">d{4}"</span>)),</span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Sæson, <span class="st">"</span><span class="sc">\\</span><span class="st">d{4}$"</span>))</span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ny_Dato_udtrukket =</span> <span class="fu">paste</span>(Årstal, <span class="fu">format</span>(Dato_udtrukket, <span class="st">"-%m-%d"</span>))</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ny_Dato_udtrukket =</span> <span class="fu">str_replace</span>(Ny_Dato_udtrukket, <span class="st">" -"</span>, <span class="st">"-"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Hold, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Hjemmehold"</span>, <span class="st">"Udehold"</span>), <span class="at">sep =</span> <span class="st">"-"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Score, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Hjemmeholdsmål"</span>, <span class="st">"Udeholdsmål"</span>), <span class="at">sep =</span> <span class="st">"-"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Dato, <span class="sc">-</span>Dommer, <span class="sc">-</span>Sæson, <span class="sc">-</span>Dato_udtrukket, <span class="sc">-</span>Årstal, <span class="sc">-</span>Hold, <span class="sc">-</span>Score) <span class="sc">%&gt;%</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Tid =</span> Tid_udtrukket, <span class="at">Dato =</span> Ny_Dato_udtrukket) <span class="sc">%&gt;%</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Dato) <span class="sc">%&gt;%</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>    <span class="at">ID =</span> <span class="fu">row_number</span>(),</span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">Hjemmehold =</span> <span class="fu">str_replace_all</span>(Hjemmehold, <span class="fu">c</span>(</span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCN"</span> <span class="ot">=</span> <span class="st">"FC Nordsjælland"</span>,</span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>      <span class="st">"RFC"</span> <span class="ot">=</span> <span class="st">"Randers FC"</span>,</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>      <span class="st">"EFB"</span> <span class="ot">=</span> <span class="st">"Esbjerg fB"</span>,</span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AGF"</span> <span class="ot">=</span> <span class="st">"AGF"</span>,</span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>      <span class="st">"OB"</span> <span class="ot">=</span> <span class="st">"Odense Boldklub"</span>,</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCM"</span> <span class="ot">=</span> <span class="st">"FC Midtjylland"</span>,</span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>      <span class="st">"BIF"</span> <span class="ot">=</span> <span class="st">"Brøndby IF"</span>,</span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>      <span class="st">"VFF"</span> <span class="ot">=</span> <span class="st">"Viborg FF"</span>,</span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a>      <span class="st">"LBK"</span> <span class="ot">=</span> <span class="st">"Lyngby BK"</span>,</span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>      <span class="st">"ACH"</span> <span class="ot">=</span> <span class="st">"AC Horsens"</span>,</span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AaB"</span> <span class="ot">=</span> <span class="st">"Aalborg BK"</span>,</span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCK"</span> <span class="ot">=</span> <span class="st">"FC København"</span>,</span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCV"</span> <span class="ot">=</span> <span class="st">"FC Vestsjælland"</span>,</span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>      <span class="st">"SDR"</span> <span class="ot">=</span> <span class="st">"SønderjyskE"</span>,</span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a>      <span class="st">"HOB"</span> <span class="ot">=</span> <span class="st">"Hobro IK"</span>,</span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>      <span class="st">"SIF"</span> <span class="ot">=</span> <span class="st">"Silkeborg IF"</span>,</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a>      <span class="st">"VB"</span> <span class="ot">=</span> <span class="st">"Vejle Boldklub"</span>,</span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a>      <span class="st">"HIF"</span> <span class="ot">=</span> <span class="st">"Helsingør IF"</span></span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a>    <span class="at">Udehold =</span> <span class="fu">str_replace_all</span>(Udehold, <span class="fu">c</span>(</span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCN"</span> <span class="ot">=</span> <span class="st">"FC Nordsjælland"</span>,</span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a>      <span class="st">"RFC"</span> <span class="ot">=</span> <span class="st">"Randers FC"</span>,</span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a>      <span class="st">"EFB"</span> <span class="ot">=</span> <span class="st">"Esbjerg fB"</span>,</span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AGF"</span> <span class="ot">=</span> <span class="st">"AGF"</span>,</span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>      <span class="st">"OB"</span> <span class="ot">=</span> <span class="st">"Odense Boldklub"</span>,</span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCM"</span> <span class="ot">=</span> <span class="st">"FC Midtjylland"</span>,</span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>      <span class="st">"BIF"</span> <span class="ot">=</span> <span class="st">"Brøndby IF"</span>,</span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>      <span class="st">"VFF"</span> <span class="ot">=</span> <span class="st">"Viborg FF"</span>,</span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a>      <span class="st">"LBK"</span> <span class="ot">=</span> <span class="st">"Lyngby BK"</span>,</span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>      <span class="st">"ACH"</span> <span class="ot">=</span> <span class="st">"AC Horsens"</span>,</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AaB"</span> <span class="ot">=</span> <span class="st">"Aalborg BK"</span>,</span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCK"</span> <span class="ot">=</span> <span class="st">"FC København"</span>,</span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FCV"</span> <span class="ot">=</span> <span class="st">"FC Vestsjælland"</span>,</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>      <span class="st">"SDR"</span> <span class="ot">=</span> <span class="st">"SønderjyskE"</span>,</span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>      <span class="st">"HOB"</span> <span class="ot">=</span> <span class="st">"Hobro IK"</span>,</span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>      <span class="st">"SIF"</span> <span class="ot">=</span> <span class="st">"Silkeborg IF"</span>,</span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>      <span class="st">"VB"</span> <span class="ot">=</span> <span class="st">"Vejle Boldklub"</span>,</span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>      <span class="st">"HIF"</span> <span class="ot">=</span> <span class="st">"Helsingør IF"</span></span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Superliga/1.Division</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ID, <span class="fu">everything</span>())</span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>superliga1 <span class="ot">&lt;-</span> superliga1 <span class="sc">%&gt;%</span></span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tilskuere =</span> <span class="fu">gsub</span>(<span class="st">"[.]"</span>, <span class="st">""</span>, Tilskuere),  <span class="co"># Fjerner punktummer</span></span>
<span id="cb2-216"><a href="#cb2-216" aria-hidden="true" tabindex="-1"></a>         <span class="at">Tilskuere =</span> <span class="fu">as.numeric</span>(Tilskuere))</span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(superliga)</span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a><span class="co"># Superliga TV ------------------------------------------------------------</span></span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion til at ekstrahere data fra hver td</span></span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a>extract_td_data <span class="ot">&lt;-</span> <span class="cf">function</span>(td, id, season) {</span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> <span class="fu">html_node</span>(td, <span class="st">"img"</span>)</span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(img)) {</span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(</span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a>      <span class="at">ID =</span> id,</span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a>      <span class="at">Season =</span> season,</span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>      <span class="at">Type =</span> <span class="st">"Image"</span>,</span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a>      <span class="at">Source =</span> <span class="fu">html_attr</span>(img, <span class="st">"src"</span>),</span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a>      <span class="at">Alt =</span> <span class="fu">html_attr</span>(img, <span class="st">"alt"</span>),</span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a>      <span class="at">Content =</span> <span class="cn">NA</span></span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a>    text_content <span class="ot">&lt;-</span> <span class="fu">html_text</span>(td)</span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(</span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a>      <span class="at">ID =</span> id,</span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a>      <span class="at">Season =</span> season,</span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>      <span class="at">Type =</span> <span class="st">"Text"</span>,</span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a>      <span class="at">Source =</span> <span class="cn">NA</span>,</span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a>      <span class="at">Alt =</span> <span class="cn">NA</span>,</span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a>      <span class="at">Content =</span> <span class="fu">ifelse</span>(text_content <span class="sc">==</span> <span class="st">""</span>, <span class="st">"0"</span>, text_content)</span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a><span class="co"># Generer en liste over sæsoner fra 2007/2008 til 2023/2024</span></span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a>seasons1 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="dv">2007</span><span class="sc">:</span><span class="dv">2023</span>, <span class="st">"%2F"</span>, <span class="dv">2008</span><span class="sc">:</span><span class="dv">2024</span>)</span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-251"><a href="#cb2-251" aria-hidden="true" tabindex="-1"></a><span class="co"># Tom data.frame til at samle resultaterne</span></span>
<span id="cb2-252"><a href="#cb2-252" aria-hidden="true" tabindex="-1"></a>all_data1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (season1 <span class="cf">in</span> seasons1) {</span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Opdater URL for hver sæson</span></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a>  url1 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://superstats.dk/program?aar="</span>, season1)</span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fetch the webpage</span></span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a>  page1 <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(url1)</span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Parse HTML</span></span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a>  content1 <span class="ot">&lt;-</span> <span class="fu">read_html</span>(page1)</span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find alle td-tags med den specificerede style</span></span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a>  td_elements1 <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(content1, <span class="at">xpath =</span> <span class="st">"//td[@style='text-align:center;']"</span>)</span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Anvend funktionen på hver td og saml resultaterne for sæsonen</span></span>
<span id="cb2-268"><a href="#cb2-268" aria-hidden="true" tabindex="-1"></a>  td_data1 <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">seq_along</span>(td_elements1), <span class="cf">function</span>(i) <span class="fu">extract_td_data</span>(td_elements1[i], i, season1))</span>
<span id="cb2-269"><a href="#cb2-269" aria-hidden="true" tabindex="-1"></a>  td_data1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(td_data1)</span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tilføj data til den samlede data.frame</span></span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a>  all_data1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(all_data1, td_data1)</span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a>superligaTV <span class="ot">&lt;-</span> all_data1</span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a><span class="do">## Her ændrer vi ID variablen så den går igennem alle observationer</span></span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a>superligaTV <span class="ot">&lt;-</span> superligaTV <span class="sc">%&gt;%</span></span>
<span id="cb2-280"><a href="#cb2-280" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-281"><a href="#cb2-281" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Season, <span class="sc">-</span>Type, <span class="sc">-</span>Content, <span class="sc">-</span>Source)</span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a><span class="co"># Her leftjoiner vi med datasættet med Kampdatasættet på ID</span></span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a>samletsuperliga <span class="ot">&lt;-</span> <span class="fu">left_join</span>(superligaTV, superliga1, <span class="at">by =</span> <span class="st">"ID"</span>)</span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a><span class="co">#Denne kode skaber et nyt datasæt Samletsuperliga_filtered, der indeholder kun de rækker fra Samletsuperligam, hvor Hjemmehold er "Viborg FF" eller Udehold er "Viborg FF".</span></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a>vffsuperliga <span class="ot">&lt;-</span> samletsuperliga <span class="sc">%&gt;%</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hjemmehold <span class="sc">==</span> <span class="st">"Viborg FF"</span> <span class="sc">|</span> Udehold <span class="sc">==</span> <span class="st">"Viborg FF"</span>)</span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a>vffsuperliga <span class="ot">&lt;-</span> vffsuperliga <span class="sc">%&gt;%</span></span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Runde =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Runde)))</span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a><span class="co"># Hente program fra 1. division sæson 2007/2008- 2023/2024 ----------------</span></span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a><span class="co"># Angiv start- og slutåret for loopet</span></span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a>start_year <span class="ot">&lt;-</span> <span class="dv">2007</span></span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a>end_year <span class="ot">&lt;-</span> <span class="dv">2023</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a><span class="co"># Tom liste til at gemme tabeller for hvert år</span></span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a>all_tables <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop igennem hvert år</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (year <span class="cf">in</span> start_year<span class="sc">:</span>end_year) {</span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Opret URL'en baseret på det aktuelle år</span></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://superstats.dk/1div/program?aar="</span>, year, <span class="st">"%2F"</span>, year <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Send en GET-anmodning for at få HTML-indholdet</span></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a>  response <span class="ot">&lt;-</span> <span class="fu">GET</span>(url)</span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a>  content <span class="ot">&lt;-</span> <span class="fu">content</span>(response, <span class="st">"text"</span>)</span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Brug rvest til at læse HTML-indholdet</span></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(content)</span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find alle tabeller, der indeholder "Runde" i navnet</span></span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a>  tables1 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(<span class="fu">html_nodes</span>(page, <span class="st">"table:contains('Runde')"</span>), <span class="at">convert =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Kombiner tabellerne og tilføj en kolonne med originaltabel-ID</span></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a>  tables_combined <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tables1, <span class="at">.id =</span> <span class="st">"OriginalTableID"</span>)</span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gem tabellen i listen</span></span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a>  all_tables[[<span class="fu">as.character</span>(year)]] <span class="ot">&lt;-</span> tables_combined</span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombiner alle tabeller fra forskellige år til én stor tibble</span></span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a>final_table <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(all_tables)</span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a>danish_weekdays <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mandag"</span>, <span class="st">"Tirsdag"</span>, <span class="st">"Onsdag"</span>, <span class="st">"Torsdag"</span>, <span class="st">"Fredag"</span>, <span class="st">"Lørdag"</span>, <span class="st">"Søndag"</span>)</span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a><span class="co"># Fjern kolonner med mindst én observation svarende til danske ugedage</span></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a>tables_combined_filtered <span class="ot">&lt;-</span> final_table <span class="sc">%&gt;%</span></span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">where</span>(<span class="sc">~</span><span class="fu">any</span>(. <span class="sc">%in%</span> danish_weekdays)))</span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-341"><a href="#cb2-341" aria-hidden="true" tabindex="-1"></a>div <span class="ot">&lt;-</span> tables_combined_filtered <span class="sc">%&gt;%</span></span>
<span id="cb2-342"><a href="#cb2-342" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>...<span class="dv">7</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-343"><a href="#cb2-343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">...3 =</span> <span class="fu">gsub</span>(<span class="st">"kl."</span>, <span class="st">" "</span>, ...<span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-344"><a href="#cb2-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(...<span class="dv">3</span>, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Dato"</span>, <span class="st">"Tid"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-345"><a href="#cb2-345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dato =</span> <span class="fu">dmy</span>(Dato)) <span class="sc">%&gt;%</span></span>
<span id="cb2-346"><a href="#cb2-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Res, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Hjemmeholdsmål"</span>, <span class="st">"Udeholdsmål"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-347"><a href="#cb2-347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dato =</span> <span class="fu">as.Date</span>(Dato))</span>
<span id="cb2-348"><a href="#cb2-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-349"><a href="#cb2-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-350"><a href="#cb2-350" aria-hidden="true" tabindex="-1"></a><span class="co"># Angiv dansk lokalisation for ugedage med korrekt karakterkodning</span></span>
<span id="cb2-351"><a href="#cb2-351" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setlocale</span>(<span class="at">category =</span> <span class="st">"LC_TIME"</span>, <span class="at">locale =</span> <span class="st">"Danish_Denmark.UTF-8"</span>)</span>
<span id="cb2-352"><a href="#cb2-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-353"><a href="#cb2-353" aria-hidden="true" tabindex="-1"></a>div <span class="ot">&lt;-</span> div <span class="sc">%&gt;%</span></span>
<span id="cb2-354"><a href="#cb2-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ugedag =</span> <span class="fu">weekdays</span>(Dato)) <span class="sc">%&gt;%</span></span>
<span id="cb2-355"><a href="#cb2-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ugedag =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-356"><a href="#cb2-356" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"søndag"</span>    <span class="sc">~</span> <span class="st">"Søn"</span>,</span>
<span id="cb2-357"><a href="#cb2-357" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"mandag"</span>    <span class="sc">~</span> <span class="st">"Man"</span>,</span>
<span id="cb2-358"><a href="#cb2-358" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"tirsdag"</span>   <span class="sc">~</span> <span class="st">"Tir"</span>,</span>
<span id="cb2-359"><a href="#cb2-359" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"onsdag"</span>    <span class="sc">~</span> <span class="st">"Ons"</span>,</span>
<span id="cb2-360"><a href="#cb2-360" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"torsdag"</span>   <span class="sc">~</span> <span class="st">"Tor"</span>,</span>
<span id="cb2-361"><a href="#cb2-361" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"fredag"</span>    <span class="sc">~</span> <span class="st">"Fre"</span>,</span>
<span id="cb2-362"><a href="#cb2-362" aria-hidden="true" tabindex="-1"></a>    Ugedag <span class="sc">==</span> <span class="st">"lørdag"</span>    <span class="sc">~</span> <span class="st">"Lør"</span>,</span>
<span id="cb2-363"><a href="#cb2-363" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>                  <span class="sc">~</span> Ugedag  <span class="co"># Bevar uændrede navne for andre dage</span></span>
<span id="cb2-364"><a href="#cb2-364" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb2-365"><a href="#cb2-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-366"><a href="#cb2-366" aria-hidden="true" tabindex="-1"></a>div</span>
<span id="cb2-367"><a href="#cb2-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-368"><a href="#cb2-368" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret en vektor med stigende numre baseret på antallet af rækker i "div"</span></span>
<span id="cb2-369"><a href="#cb2-369" aria-hidden="true" tabindex="-1"></a>id_vector <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(div))</span>
<span id="cb2-370"><a href="#cb2-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-371"><a href="#cb2-371" aria-hidden="true" tabindex="-1"></a><span class="co"># Tilføj denne vektor som en kolonne med navnet "ID" til dataframe'en</span></span>
<span id="cb2-372"><a href="#cb2-372" aria-hidden="true" tabindex="-1"></a>div<span class="sc">$</span>ID <span class="ot">&lt;-</span> id_vector</span>
<span id="cb2-373"><a href="#cb2-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-374"><a href="#cb2-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-375"><a href="#cb2-375" aria-hidden="true" tabindex="-1"></a>div1 <span class="ot">&lt;-</span> div <span class="sc">%&gt;%</span></span>
<span id="cb2-376"><a href="#cb2-376" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ID, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-377"><a href="#cb2-377" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Runde =</span> OriginalTableID) <span class="sc">%&gt;%</span></span>
<span id="cb2-378"><a href="#cb2-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Kamp, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Hjemmehold"</span>, <span class="st">"Udehold"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-379"><a href="#cb2-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"Superliga/1.Division"</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb2-380"><a href="#cb2-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-381"><a href="#cb2-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-382"><a href="#cb2-382" aria-hidden="true" tabindex="-1"></a>div1 <span class="ot">&lt;-</span> div1 <span class="sc">%&gt;%</span></span>
<span id="cb2-383"><a href="#cb2-383" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tilskuere =</span> <span class="fu">gsub</span>(<span class="st">"[.]"</span>, <span class="st">""</span>, Tilskuere),  <span class="co"># Fjerner punktummer</span></span>
<span id="cb2-384"><a href="#cb2-384" aria-hidden="true" tabindex="-1"></a>         <span class="at">Tilskuere =</span> <span class="fu">as.numeric</span>(Tilskuere))</span>
<span id="cb2-385"><a href="#cb2-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-386"><a href="#cb2-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-387"><a href="#cb2-387" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Division TV ----------------------------------------------------------</span></span>
<span id="cb2-388"><a href="#cb2-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-389"><a href="#cb2-389" aria-hidden="true" tabindex="-1"></a><span class="co">#Hent TV variabler for 1. div en løkke der henter for 2007/2008 til 2023/2024</span></span>
<span id="cb2-390"><a href="#cb2-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-391"><a href="#cb2-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-392"><a href="#cb2-392" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion til at ekstrahere data fra hver td</span></span>
<span id="cb2-393"><a href="#cb2-393" aria-hidden="true" tabindex="-1"></a>extract_td_data <span class="ot">&lt;-</span> <span class="cf">function</span>(td, id, season) {</span>
<span id="cb2-394"><a href="#cb2-394" aria-hidden="true" tabindex="-1"></a>  img <span class="ot">&lt;-</span> <span class="fu">html_node</span>(td, <span class="st">"img"</span>)</span>
<span id="cb2-395"><a href="#cb2-395" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(img)) {</span>
<span id="cb2-396"><a href="#cb2-396" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(</span>
<span id="cb2-397"><a href="#cb2-397" aria-hidden="true" tabindex="-1"></a>      <span class="at">ID =</span> id,</span>
<span id="cb2-398"><a href="#cb2-398" aria-hidden="true" tabindex="-1"></a>      <span class="at">Season =</span> season,</span>
<span id="cb2-399"><a href="#cb2-399" aria-hidden="true" tabindex="-1"></a>      <span class="at">Type =</span> <span class="st">"Image"</span>,</span>
<span id="cb2-400"><a href="#cb2-400" aria-hidden="true" tabindex="-1"></a>      <span class="at">Source =</span> <span class="fu">html_attr</span>(img, <span class="st">"src"</span>),</span>
<span id="cb2-401"><a href="#cb2-401" aria-hidden="true" tabindex="-1"></a>      <span class="at">Alt =</span> <span class="fu">html_attr</span>(img, <span class="st">"alt"</span>),</span>
<span id="cb2-402"><a href="#cb2-402" aria-hidden="true" tabindex="-1"></a>      <span class="at">Content =</span> <span class="cn">NA</span></span>
<span id="cb2-403"><a href="#cb2-403" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb2-404"><a href="#cb2-404" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-405"><a href="#cb2-405" aria-hidden="true" tabindex="-1"></a>    text_content <span class="ot">&lt;-</span> <span class="fu">html_text</span>(td)</span>
<span id="cb2-406"><a href="#cb2-406" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">data.frame</span>(</span>
<span id="cb2-407"><a href="#cb2-407" aria-hidden="true" tabindex="-1"></a>      <span class="at">ID =</span> id,</span>
<span id="cb2-408"><a href="#cb2-408" aria-hidden="true" tabindex="-1"></a>      <span class="at">Season =</span> season,</span>
<span id="cb2-409"><a href="#cb2-409" aria-hidden="true" tabindex="-1"></a>      <span class="at">Type =</span> <span class="st">"Text"</span>,</span>
<span id="cb2-410"><a href="#cb2-410" aria-hidden="true" tabindex="-1"></a>      <span class="at">Source =</span> <span class="cn">NA</span>,</span>
<span id="cb2-411"><a href="#cb2-411" aria-hidden="true" tabindex="-1"></a>      <span class="at">Alt =</span> <span class="cn">NA</span>,</span>
<span id="cb2-412"><a href="#cb2-412" aria-hidden="true" tabindex="-1"></a>      <span class="at">Content =</span> <span class="fu">ifelse</span>(text_content <span class="sc">==</span> <span class="st">""</span>, <span class="st">"0"</span>, text_content)</span>
<span id="cb2-413"><a href="#cb2-413" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb2-414"><a href="#cb2-414" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-415"><a href="#cb2-415" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-416"><a href="#cb2-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-417"><a href="#cb2-417" aria-hidden="true" tabindex="-1"></a><span class="co"># Generer en liste over sæsoner fra 2007/2008 til 2023/2024</span></span>
<span id="cb2-418"><a href="#cb2-418" aria-hidden="true" tabindex="-1"></a>seasons <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="dv">2007</span><span class="sc">:</span><span class="dv">2023</span>, <span class="st">"%2F"</span>, <span class="dv">2008</span><span class="sc">:</span><span class="dv">2024</span>)</span>
<span id="cb2-419"><a href="#cb2-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-420"><a href="#cb2-420" aria-hidden="true" tabindex="-1"></a><span class="co"># Tom data.frame til at samle resultaterne</span></span>
<span id="cb2-421"><a href="#cb2-421" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb2-422"><a href="#cb2-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-423"><a href="#cb2-423" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (season <span class="cf">in</span> seasons) {</span>
<span id="cb2-424"><a href="#cb2-424" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Opdater URL for hver sæson</span></span>
<span id="cb2-425"><a href="#cb2-425" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://superstats.dk/1div/program?aar="</span>, season)</span>
<span id="cb2-426"><a href="#cb2-426" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-427"><a href="#cb2-427" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fetch the webpage</span></span>
<span id="cb2-428"><a href="#cb2-428" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(url)</span>
<span id="cb2-429"><a href="#cb2-429" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-430"><a href="#cb2-430" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Parse HTML</span></span>
<span id="cb2-431"><a href="#cb2-431" aria-hidden="true" tabindex="-1"></a>  content <span class="ot">&lt;-</span> <span class="fu">read_html</span>(page)</span>
<span id="cb2-432"><a href="#cb2-432" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-433"><a href="#cb2-433" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find alle td-tags med den specificerede style</span></span>
<span id="cb2-434"><a href="#cb2-434" aria-hidden="true" tabindex="-1"></a>  td_elements <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(content, <span class="at">xpath =</span> <span class="st">"//td[@style='text-align:center;']"</span>)</span>
<span id="cb2-435"><a href="#cb2-435" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-436"><a href="#cb2-436" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Anvend funktionen på hver td og saml resultaterne for sæsonen</span></span>
<span id="cb2-437"><a href="#cb2-437" aria-hidden="true" tabindex="-1"></a>  td_data <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">seq_along</span>(td_elements), <span class="cf">function</span>(i) <span class="fu">extract_td_data</span>(td_elements[i], i, season))</span>
<span id="cb2-438"><a href="#cb2-438" aria-hidden="true" tabindex="-1"></a>  td_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(td_data)</span>
<span id="cb2-439"><a href="#cb2-439" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-440"><a href="#cb2-440" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Tilføj data til den samlede data.frame</span></span>
<span id="cb2-441"><a href="#cb2-441" aria-hidden="true" tabindex="-1"></a>  all_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(all_data, td_data)</span>
<span id="cb2-442"><a href="#cb2-442" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-443"><a href="#cb2-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-444"><a href="#cb2-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-445"><a href="#cb2-445" aria-hidden="true" tabindex="-1"></a>TV <span class="ot">&lt;-</span> all_data[, <span class="sc">!</span>(<span class="fu">names</span>(all_data) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Season"</span>, <span class="st">"Type"</span>, <span class="st">"Content"</span>, <span class="st">"Source"</span>))]</span>
<span id="cb2-446"><a href="#cb2-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-447"><a href="#cb2-447" aria-hidden="true" tabindex="-1"></a>DivTV <span class="ot">&lt;-</span> TV <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>())</span>
<span id="cb2-448"><a href="#cb2-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-449"><a href="#cb2-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-450"><a href="#cb2-450" aria-hidden="true" tabindex="-1"></a>samletdivision <span class="ot">&lt;-</span> <span class="fu">left_join</span>(DivTV, div1, <span class="at">by =</span> <span class="st">"ID"</span>)</span>
<span id="cb2-451"><a href="#cb2-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-452"><a href="#cb2-452" aria-hidden="true" tabindex="-1"></a>VFFdivision <span class="ot">&lt;-</span> samletdivision <span class="sc">%&gt;%</span></span>
<span id="cb2-453"><a href="#cb2-453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Udehold <span class="sc">==</span> <span class="st">"Viborg FF"</span> <span class="sc">|</span> Hjemmehold <span class="sc">==</span> <span class="st">"Viborg FF"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-454"><a href="#cb2-454" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-455"><a href="#cb2-455" aria-hidden="true" tabindex="-1"></a>    <span class="at">Runde =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(Runde)),</span>
<span id="cb2-456"><a href="#cb2-456" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dato =</span> <span class="fu">as.character</span>(Dato)</span>
<span id="cb2-457"><a href="#cb2-457" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-458"><a href="#cb2-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-459"><a href="#cb2-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-460"><a href="#cb2-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-461"><a href="#cb2-461" aria-hidden="true" tabindex="-1"></a>vffsuperliga <span class="ot">&lt;-</span> vffsuperliga <span class="sc">%&gt;%</span></span>
<span id="cb2-462"><a href="#cb2-462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tilskuere =</span> <span class="fu">as.numeric</span>(Tilskuere))</span>
<span id="cb2-463"><a href="#cb2-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-464"><a href="#cb2-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-465"><a href="#cb2-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-466"><a href="#cb2-466" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(VFFdivision)</span>
<span id="cb2-467"><a href="#cb2-467" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vffsuperliga)</span>
<span id="cb2-468"><a href="#cb2-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-469"><a href="#cb2-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-470"><a href="#cb2-470" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombinering af VFFs ude og hjemmekampe i Superliga og 1. Division -------</span></span>
<span id="cb2-471"><a href="#cb2-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-472"><a href="#cb2-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-473"><a href="#cb2-473" aria-hidden="true" tabindex="-1"></a>VFFallesasoner <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(VFFdivision, vffsuperliga)</span>
<span id="cb2-474"><a href="#cb2-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-475"><a href="#cb2-475" aria-hidden="true" tabindex="-1"></a><span class="co">#sorter efter dato</span></span>
<span id="cb2-476"><a href="#cb2-476" aria-hidden="true" tabindex="-1"></a>VFFallesasoner <span class="ot">&lt;-</span> VFFallesasoner <span class="sc">%&gt;%</span></span>
<span id="cb2-477"><a href="#cb2-477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Dato)</span>
<span id="cb2-478"><a href="#cb2-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-479"><a href="#cb2-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-480"><a href="#cb2-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-481"><a href="#cb2-481" aria-hidden="true" tabindex="-1"></a><span class="co"># Variabler ---------------------------------------------------------------</span></span>
<span id="cb2-482"><a href="#cb2-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-483"><a href="#cb2-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-484"><a href="#cb2-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-485"><a href="#cb2-485" aria-hidden="true" tabindex="-1"></a><span class="co"># Tilføjelse af form variablen</span></span>
<span id="cb2-486"><a href="#cb2-486" aria-hidden="true" tabindex="-1"></a>viborg_resultat_hjemme <span class="ot">&lt;-</span> VFFallesasoner <span class="sc">%&gt;%</span> </span>
<span id="cb2-487"><a href="#cb2-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hjemmehold <span class="sc">==</span> <span class="st">"Viborg FF"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-488"><a href="#cb2-488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">'V/U/T'</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-489"><a href="#cb2-489" aria-hidden="true" tabindex="-1"></a>    Hjemmeholdsmål <span class="sc">&gt;</span> Udeholdsmål <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb2-490"><a href="#cb2-490" aria-hidden="true" tabindex="-1"></a>    Hjemmeholdsmål <span class="sc">==</span> Udeholdsmål <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb2-491"><a href="#cb2-491" aria-hidden="true" tabindex="-1"></a>    Hjemmeholdsmål <span class="sc">&lt;</span> Udeholdsmål <span class="sc">~</span> <span class="dv">0</span>, </span>
<span id="cb2-492"><a href="#cb2-492" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_real_</span> </span>
<span id="cb2-493"><a href="#cb2-493" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb2-494"><a href="#cb2-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-495"><a href="#cb2-495" aria-hidden="true" tabindex="-1"></a><span class="co"># Viborgs udekampe sorteres ud for at udregne formen</span></span>
<span id="cb2-496"><a href="#cb2-496" aria-hidden="true" tabindex="-1"></a>viborg_resultat_ude <span class="ot">&lt;-</span> VFFallesasoner <span class="sc">%&gt;%</span> </span>
<span id="cb2-497"><a href="#cb2-497" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Udehold <span class="sc">==</span> <span class="st">"Viborg FF"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-498"><a href="#cb2-498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">'V/U/T'</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-499"><a href="#cb2-499" aria-hidden="true" tabindex="-1"></a>    Udeholdsmål <span class="sc">&gt;</span> Hjemmeholdsmål <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb2-500"><a href="#cb2-500" aria-hidden="true" tabindex="-1"></a>    Udeholdsmål <span class="sc">==</span> Hjemmeholdsmål <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb2-501"><a href="#cb2-501" aria-hidden="true" tabindex="-1"></a>    Udeholdsmål <span class="sc">&lt;</span> Hjemmeholdsmål <span class="sc">~</span> <span class="dv">0</span>, </span>
<span id="cb2-502"><a href="#cb2-502" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_real_</span> </span>
<span id="cb2-503"><a href="#cb2-503" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb2-504"><a href="#cb2-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-505"><a href="#cb2-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-506"><a href="#cb2-506" aria-hidden="true" tabindex="-1"></a>samlet_resultat_viborg <span class="ot">&lt;-</span> viborg_resultat_hjemme <span class="sc">%&gt;%</span> </span>
<span id="cb2-507"><a href="#cb2-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(viborg_resultat_ude) <span class="sc">%&gt;%</span> </span>
<span id="cb2-508"><a href="#cb2-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Dato) </span>
<span id="cb2-509"><a href="#cb2-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-510"><a href="#cb2-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-511"><a href="#cb2-511" aria-hidden="true" tabindex="-1"></a><span class="co"># Her udregnes formen</span></span>
<span id="cb2-512"><a href="#cb2-512" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 = God form</span></span>
<span id="cb2-513"><a href="#cb2-513" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 = Middel form</span></span>
<span id="cb2-514"><a href="#cb2-514" aria-hidden="true" tabindex="-1"></a><span class="co"># 0 = Dårlig form</span></span>
<span id="cb2-515"><a href="#cb2-515" aria-hidden="true" tabindex="-1"></a>viborg_form <span class="ot">&lt;-</span> samlet_resultat_viborg <span class="sc">%&gt;%</span> </span>
<span id="cb2-516"><a href="#cb2-516" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Dato) <span class="sc">%&gt;%</span> </span>
<span id="cb2-517"><a href="#cb2-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-518"><a href="#cb2-518" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sidste_5_sum =</span> <span class="fu">lag</span>(<span class="fu">rollapplyr</span>(<span class="st">`</span><span class="at">V/U/T</span><span class="st">`</span>, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">FUN =</span> sum, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">align =</span> <span class="st">"right"</span>)),</span>
<span id="cb2-519"><a href="#cb2-519" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sidste_5_sum =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Sidste_5_sum), <span class="dv">0</span>, Sidste_5_sum),</span>
<span id="cb2-520"><a href="#cb2-520" aria-hidden="true" tabindex="-1"></a>    <span class="at">Form =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-521"><a href="#cb2-521" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(Sidste_5_sum) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb2-522"><a href="#cb2-522" aria-hidden="true" tabindex="-1"></a>      Sidste_5_sum <span class="sc">&lt;=</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb2-523"><a href="#cb2-523" aria-hidden="true" tabindex="-1"></a>      Sidste_5_sum <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> Sidste_5_sum <span class="sc">&lt;=</span> <span class="dv">7</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb2-524"><a href="#cb2-524" aria-hidden="true" tabindex="-1"></a>      Sidste_5_sum <span class="sc">&gt;=</span> <span class="dv">8</span> <span class="sc">~</span> <span class="dv">2</span></span>
<span id="cb2-525"><a href="#cb2-525" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-526"><a href="#cb2-526" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb2-527"><a href="#cb2-527" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">V/U/T</span><span class="st">`</span>, <span class="sc">-</span>Sidste_5_sum)</span>
<span id="cb2-528"><a href="#cb2-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-529"><a href="#cb2-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-530"><a href="#cb2-530" aria-hidden="true" tabindex="-1"></a><span class="co"># Tilføjelse af ferieuger</span></span>
<span id="cb2-531"><a href="#cb2-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-532"><a href="#cb2-532" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge <span class="ot">&lt;-</span> viborg_form <span class="sc">%&gt;%</span> </span>
<span id="cb2-533"><a href="#cb2-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ugenummer =</span> <span class="fu">isoweek</span>(<span class="fu">as.Date</span>(Dato)))</span>
<span id="cb2-534"><a href="#cb2-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-535"><a href="#cb2-535" aria-hidden="true" tabindex="-1"></a>ferieuger <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">28</span>, <span class="dv">29</span>, <span class="dv">30</span>, <span class="dv">42</span>)</span>
<span id="cb2-536"><a href="#cb2-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-537"><a href="#cb2-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-538"><a href="#cb2-538" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge <span class="ot">&lt;-</span> viborg_ferieuge <span class="sc">%&gt;%</span></span>
<span id="cb2-539"><a href="#cb2-539" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Ferieuger =</span> <span class="fu">ifelse</span>(Ugenummer <span class="sc">%in%</span> ferieuger, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-540"><a href="#cb2-540" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Ugenummer)</span>
<span id="cb2-541"><a href="#cb2-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-542"><a href="#cb2-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-543"><a href="#cb2-543" aria-hidden="true" tabindex="-1"></a><span class="co"># Her tilføjes modstander variablen</span></span>
<span id="cb2-544"><a href="#cb2-544" aria-hidden="true" tabindex="-1"></a><span class="co"># Definer ABC hold</span></span>
<span id="cb2-545"><a href="#cb2-545" aria-hidden="true" tabindex="-1"></a>A_hold <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'FC København'</span>, <span class="st">'Brøndby IF'</span>, <span class="st">'FC Midtjylland'</span>)</span>
<span id="cb2-546"><a href="#cb2-546" aria-hidden="true" tabindex="-1"></a>B_hold <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Silkeborg IF'</span>, <span class="st">'AGF'</span>, <span class="st">'Aalborg BK'</span>, <span class="st">'Randers FC'</span>)</span>
<span id="cb2-547"><a href="#cb2-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-548"><a href="#cb2-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-549"><a href="#cb2-549" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dummy variables for home opponents</span></span>
<span id="cb2-550"><a href="#cb2-550" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge<span class="sc">$</span><span class="st">'Modstander Type'</span> <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(viborg_ferieuge<span class="sc">$</span>Udehold <span class="sc">%in%</span> A_hold, <span class="dv">0</span>,</span>
<span id="cb2-551"><a href="#cb2-551" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(viborg_ferieuge<span class="sc">$</span>Udehold <span class="sc">%in%</span> B_hold, <span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb2-552"><a href="#cb2-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-553"><a href="#cb2-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-554"><a href="#cb2-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-555"><a href="#cb2-555" aria-hidden="true" tabindex="-1"></a><span class="co"># Her tilføjes variablen for hvilken dag på ugen der spilles</span></span>
<span id="cb2-556"><a href="#cb2-556" aria-hidden="true" tabindex="-1"></a><span class="co"># 0 = Hverdage</span></span>
<span id="cb2-557"><a href="#cb2-557" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 = Lørdag</span></span>
<span id="cb2-558"><a href="#cb2-558" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 = Søndag</span></span>
<span id="cb2-559"><a href="#cb2-559" aria-hidden="true" tabindex="-1"></a><span class="co"># Definer hverdage</span></span>
<span id="cb2-560"><a href="#cb2-560" aria-hidden="true" tabindex="-1"></a>Hverdage <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Man'</span>, <span class="st">'Tir'</span>, <span class="st">'Ons'</span>, <span class="st">'Tor'</span>, <span class="st">'Fre'</span>)</span>
<span id="cb2-561"><a href="#cb2-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-562"><a href="#cb2-562" aria-hidden="true" tabindex="-1"></a><span class="co"># Dummy variabler for dage</span></span>
<span id="cb2-563"><a href="#cb2-563" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge<span class="sc">$</span>Dagtype <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(viborg_ferieuge<span class="sc">$</span>Ugedag <span class="sc">%in%</span> Hverdage, <span class="dv">0</span>, </span>
<span id="cb2-564"><a href="#cb2-564" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(viborg_ferieuge<span class="sc">$</span>Ugedag <span class="sc">==</span> <span class="st">'Lør'</span>, <span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb2-565"><a href="#cb2-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-566"><a href="#cb2-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-567"><a href="#cb2-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-568"><a href="#cb2-568" aria-hidden="true" tabindex="-1"></a><span class="co"># Her udregnes tidspunkt på dagen</span></span>
<span id="cb2-569"><a href="#cb2-569" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 = Efter 18:00:00</span></span>
<span id="cb2-570"><a href="#cb2-570" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 = Mellem eller lige med 15:00:00 - 18:00:00</span></span>
<span id="cb2-571"><a href="#cb2-571" aria-hidden="true" tabindex="-1"></a><span class="co"># 0 = Før 15:00:00</span></span>
<span id="cb2-572"><a href="#cb2-572" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge <span class="ot">&lt;-</span> viborg_ferieuge <span class="sc">%&gt;%</span> </span>
<span id="cb2-573"><a href="#cb2-573" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tid =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">":"</span>, Tid)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-574"><a href="#cb2-574" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Tid =</span> <span class="fu">parse_time</span>(Tid))</span>
<span id="cb2-575"><a href="#cb2-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-576"><a href="#cb2-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-577"><a href="#cb2-577" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge <span class="ot">&lt;-</span> viborg_ferieuge <span class="sc">%&gt;%</span> </span>
<span id="cb2-578"><a href="#cb2-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">'Tid på dagen'</span> <span class="ot">=</span> <span class="fu">case_when</span>(</span>
<span id="cb2-579"><a href="#cb2-579" aria-hidden="true" tabindex="-1"></a>    lubridate<span class="sc">::</span><span class="fu">hms</span>(Tid) <span class="sc">&lt;</span> lubridate<span class="sc">::</span><span class="fu">hms</span>(<span class="st">"15:00:00"</span>) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb2-580"><a href="#cb2-580" aria-hidden="true" tabindex="-1"></a>    lubridate<span class="sc">::</span><span class="fu">hms</span>(Tid) <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">hms</span>(<span class="st">"15:00:00"</span>) <span class="sc">&amp;</span> lubridate<span class="sc">::</span><span class="fu">hms</span>(Tid) <span class="sc">&lt;=</span> lubridate<span class="sc">::</span><span class="fu">hms</span>(<span class="st">"18:00:00"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb2-581"><a href="#cb2-581" aria-hidden="true" tabindex="-1"></a>    lubridate<span class="sc">::</span><span class="fu">hms</span>(Tid) <span class="sc">&gt;</span> lubridate<span class="sc">::</span><span class="fu">hms</span>(<span class="st">"18:00:00"</span>) <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb2-582"><a href="#cb2-582" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_integer_</span></span>
<span id="cb2-583"><a href="#cb2-583" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb2-584"><a href="#cb2-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-585"><a href="#cb2-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-586"><a href="#cb2-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-587"><a href="#cb2-587" aria-hidden="true" tabindex="-1"></a>popular_TV <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"TV3+"</span>, <span class="st">"TV2 SPORT"</span>, <span class="st">"TV3 Sport"</span>)</span>
<span id="cb2-588"><a href="#cb2-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-589"><a href="#cb2-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-590"><a href="#cb2-590" aria-hidden="true" tabindex="-1"></a>viborg_ferieuge <span class="ot">&lt;-</span> viborg_ferieuge <span class="sc">%&gt;%</span> </span>
<span id="cb2-591"><a href="#cb2-591" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">'Populær kanal'</span> <span class="ot">=</span> <span class="fu">ifelse</span>(Alt <span class="sc">%in%</span> popular_TV, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-592"><a href="#cb2-592" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Alt)</span>
<span id="cb2-593"><a href="#cb2-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-594"><a href="#cb2-594" aria-hidden="true" tabindex="-1"></a>superstats <span class="ot">&lt;-</span> viborg_ferieuge</span>
<span id="cb2-595"><a href="#cb2-595" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(superstats)</span>
<span id="cb2-596"><a href="#cb2-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-597"><a href="#cb2-597" aria-hidden="true" tabindex="-1"></a><span class="co"># Hent data fra DMI -------------------------------------------------------</span></span>
<span id="cb2-598"><a href="#cb2-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-599"><a href="#cb2-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-600"><a href="#cb2-600" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion til at hente data for et givet parameter</span></span>
<span id="cb2-601"><a href="#cb2-601" aria-hidden="true" tabindex="-1"></a>get_data_for_parameter <span class="ot">&lt;-</span> <span class="cf">function</span>(parameter) {</span>
<span id="cb2-602"><a href="#cb2-602" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Initialiser en tom liste til at gemme dataframes for hver dag</span></span>
<span id="cb2-603"><a href="#cb2-603" aria-hidden="true" tabindex="-1"></a>  dataframes_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-604"><a href="#cb2-604" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-605"><a href="#cb2-605" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Løkke gennem datoer</span></span>
<span id="cb2-606"><a href="#cb2-606" aria-hidden="true" tabindex="-1"></a>  current_date <span class="ot">&lt;-</span> start_date</span>
<span id="cb2-607"><a href="#cb2-607" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (current_date <span class="sc">&lt;=</span> end_date) {</span>
<span id="cb2-608"><a href="#cb2-608" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Opret URL med den aktuelle dato og parameter</span></span>
<span id="cb2-609"><a href="#cb2-609" aria-hidden="true" tabindex="-1"></a>    req_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"stationId=06060&amp;datetime="</span>, <span class="fu">format</span>(current_date, <span class="st">"%Y-%m-%dT12:00:00Z"</span>), <span class="st">"&amp;limit=300000&amp;parameterId="</span>, parameter)</span>
<span id="cb2-610"><a href="#cb2-610" aria-hidden="true" tabindex="-1"></a>    full_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, info_url, req_url, api_key)</span>
<span id="cb2-611"><a href="#cb2-611" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-612"><a href="#cb2-612" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Hent data fra API</span></span>
<span id="cb2-613"><a href="#cb2-613" aria-hidden="true" tabindex="-1"></a>    api_call <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(full_url)</span>
<span id="cb2-614"><a href="#cb2-614" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-615"><a href="#cb2-615" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Kontroller statuskoden</span></span>
<span id="cb2-616"><a href="#cb2-616" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">http_type</span>(api_call) <span class="sc">==</span> <span class="st">"application/json"</span> <span class="sc">&amp;&amp;</span> api_call<span class="sc">$</span>status_code <span class="sc">==</span> <span class="dv">200</span>) {</span>
<span id="cb2-617"><a href="#cb2-617" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Hvis alt er i orden, fortsæt med at håndtere data</span></span>
<span id="cb2-618"><a href="#cb2-618" aria-hidden="true" tabindex="-1"></a>      api_char <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">rawToChar</span>(api_call<span class="sc">$</span>content)</span>
<span id="cb2-619"><a href="#cb2-619" aria-hidden="true" tabindex="-1"></a>      api_JSON <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(api_char, <span class="at">flatten =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-620"><a href="#cb2-620" aria-hidden="true" tabindex="-1"></a>      list_dmi <span class="ot">&lt;-</span> api_JSON</span>
<span id="cb2-621"><a href="#cb2-621" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb2-622"><a href="#cb2-622" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Kontroller om dataframen indeholder observationer</span></span>
<span id="cb2-623"><a href="#cb2-623" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">length</span>(list_dmi<span class="sc">$</span>features) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb2-624"><a href="#cb2-624" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Konverter til dataframe og tilføj til listen</span></span>
<span id="cb2-625"><a href="#cb2-625" aria-hidden="true" tabindex="-1"></a>        dataframe <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">do.call</span>(cbind, list_dmi))</span>
<span id="cb2-626"><a href="#cb2-626" aria-hidden="true" tabindex="-1"></a>        dataframes_list[[<span class="fu">as.character</span>(current_date)]] <span class="ot">&lt;-</span> dataframe</span>
<span id="cb2-627"><a href="#cb2-627" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-628"><a href="#cb2-628" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Kommenter næste linje ud for at undlade at udskrive beskeden</span></span>
<span id="cb2-629"><a href="#cb2-629" aria-hidden="true" tabindex="-1"></a>      <span class="co"># cat("Ingen observationer kl. 12 for", current_date, "\n")</span></span>
<span id="cb2-630"><a href="#cb2-630" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb2-631"><a href="#cb2-631" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fjern kommenteringen fra næste linje, hvis du vil udskrive fejlmeddelelser</span></span>
<span id="cb2-632"><a href="#cb2-632" aria-hidden="true" tabindex="-1"></a>    <span class="co"># else {</span></span>
<span id="cb2-633"><a href="#cb2-633" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   cat("Fejl ved hentning af data for", current_date, "\n")</span></span>
<span id="cb2-634"><a href="#cb2-634" aria-hidden="true" tabindex="-1"></a>    <span class="co"># }</span></span>
<span id="cb2-635"><a href="#cb2-635" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-636"><a href="#cb2-636" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Opdater datoen til næste dag</span></span>
<span id="cb2-637"><a href="#cb2-637" aria-hidden="true" tabindex="-1"></a>    current_date <span class="ot">&lt;-</span> current_date <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb2-638"><a href="#cb2-638" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-639"><a href="#cb2-639" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-640"><a href="#cb2-640" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Returner listen af dataframes for parameteret</span></span>
<span id="cb2-641"><a href="#cb2-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dataframes_list)</span>
<span id="cb2-642"><a href="#cb2-642" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-643"><a href="#cb2-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-644"><a href="#cb2-644" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste af parametre</span></span>
<span id="cb2-645"><a href="#cb2-645" aria-hidden="true" tabindex="-1"></a>parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"temp_dry"</span>, <span class="st">"wind_speed"</span>, <span class="st">"humidity"</span>, <span class="st">"visibility"</span>, <span class="st">"precip_past1h"</span>, <span class="st">"humidity_past1h"</span>)</span>
<span id="cb2-646"><a href="#cb2-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-647"><a href="#cb2-647" aria-hidden="true" tabindex="-1"></a><span class="co"># Startdato og slutdato</span></span>
<span id="cb2-648"><a href="#cb2-648" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2007-01-01"</span>)</span>
<span id="cb2-649"><a href="#cb2-649" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-12-04"</span>)</span>
<span id="cb2-650"><a href="#cb2-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-651"><a href="#cb2-651" aria-hidden="true" tabindex="-1"></a><span class="co"># Basis URL for API-kald</span></span>
<span id="cb2-652"><a href="#cb2-652" aria-hidden="true" tabindex="-1"></a>base_url <span class="ot">&lt;-</span> <span class="st">"https://dmigw.govcloud.dk/v2/"</span></span>
<span id="cb2-653"><a href="#cb2-653" aria-hidden="true" tabindex="-1"></a>info_url <span class="ot">&lt;-</span> <span class="st">"metObs/collections/observation/items?"</span></span>
<span id="cb2-654"><a href="#cb2-654" aria-hidden="true" tabindex="-1"></a>api_key <span class="ot">&lt;-</span> <span class="st">"&amp;api-key=7d5db05b-3c27-4b2b-ac78-728ddd02a9aa"</span> <span class="co">#Husk at indsætte egen DMI</span></span>
<span id="cb2-655"><a href="#cb2-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-656"><a href="#cb2-656" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialiser en tom liste til at gemme dataframes for hvert parameter</span></span>
<span id="cb2-657"><a href="#cb2-657" aria-hidden="true" tabindex="-1"></a>all_dataframes_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-658"><a href="#cb2-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-659"><a href="#cb2-659" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterer gennem parametre og hent data</span></span>
<span id="cb2-660"><a href="#cb2-660" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (param <span class="cf">in</span> parameters) {</span>
<span id="cb2-661"><a href="#cb2-661" aria-hidden="true" tabindex="-1"></a>  param_dataframes_list <span class="ot">&lt;-</span> <span class="fu">get_data_for_parameter</span>(param)</span>
<span id="cb2-662"><a href="#cb2-662" aria-hidden="true" tabindex="-1"></a>  all_dataframes_list <span class="ot">&lt;-</span> <span class="fu">append</span>(all_dataframes_list, param_dataframes_list)</span>
<span id="cb2-663"><a href="#cb2-663" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-664"><a href="#cb2-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-665"><a href="#cb2-665" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombiner alle dataframes til en stor dataframe</span></span>
<span id="cb2-666"><a href="#cb2-666" aria-hidden="true" tabindex="-1"></a>karupdmiall <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(all_dataframes_list)</span>
<span id="cb2-667"><a href="#cb2-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-668"><a href="#cb2-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-669"><a href="#cb2-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-670"><a href="#cb2-670" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret kolonner</span></span>
<span id="cb2-671"><a href="#cb2-671" aria-hidden="true" tabindex="-1"></a>col1 <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(karupdmiall<span class="sc">$</span>features.properties.observed)</span>
<span id="cb2-672"><a href="#cb2-672" aria-hidden="true" tabindex="-1"></a>col2 <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(karupdmiall<span class="sc">$</span>features.properties.parameterId)</span>
<span id="cb2-673"><a href="#cb2-673" aria-hidden="true" tabindex="-1"></a>col3 <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(karupdmiall<span class="sc">$</span>features.properties.value)</span>
<span id="cb2-674"><a href="#cb2-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-675"><a href="#cb2-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-676"><a href="#cb2-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-677"><a href="#cb2-677" aria-hidden="true" tabindex="-1"></a>dmiAll1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-678"><a href="#cb2-678" aria-hidden="true" tabindex="-1"></a>  <span class="at">Dato =</span> <span class="fu">as.Date</span>(col1),</span>
<span id="cb2-679"><a href="#cb2-679" aria-hidden="true" tabindex="-1"></a>  <span class="at">Tid =</span> <span class="fu">format</span>(<span class="fu">as.POSIXct</span>(col1), <span class="st">"%H:%M:%S"</span>),</span>
<span id="cb2-680"><a href="#cb2-680" aria-hidden="true" tabindex="-1"></a>  <span class="at">Observationer =</span> col2,</span>
<span id="cb2-681"><a href="#cb2-681" aria-hidden="true" tabindex="-1"></a>  Værdi <span class="ot">=</span> col3</span>
<span id="cb2-682"><a href="#cb2-682" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb2-683"><a href="#cb2-683" aria-hidden="true" tabindex="-1"></a>dmiAll1 <span class="ot">&lt;-</span> dmiAll1 <span class="sc">|&gt;</span> </span>
<span id="cb2-684"><a href="#cb2-684" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Dato, Observationer, Værdi, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-685"><a href="#cb2-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Observationer, <span class="at">values_from =</span> Værdi) <span class="sc">%&gt;%</span></span>
<span id="cb2-686"><a href="#cb2-686" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb2-687"><a href="#cb2-687" aria-hidden="true" tabindex="-1"></a>    <span class="at">Temperatur =</span> temp_dry,</span>
<span id="cb2-688"><a href="#cb2-688" aria-hidden="true" tabindex="-1"></a>    <span class="at">Fugtighed =</span> humidity,</span>
<span id="cb2-689"><a href="#cb2-689" aria-hidden="true" tabindex="-1"></a>    <span class="at">Synlighed =</span> visibility,</span>
<span id="cb2-690"><a href="#cb2-690" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Nedbør sidste time</span><span class="st">`</span> <span class="ot">=</span> precip_past1h,</span>
<span id="cb2-691"><a href="#cb2-691" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Fugtighed den sidste time</span><span class="st">`</span> <span class="ot">=</span> humidity_past1h,</span>
<span id="cb2-692"><a href="#cb2-692" aria-hidden="true" tabindex="-1"></a>    <span class="at">Vindhastighed =</span> wind_speed</span>
<span id="cb2-693"><a href="#cb2-693" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb2-694"><a href="#cb2-694" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Tid)</span>
<span id="cb2-695"><a href="#cb2-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-696"><a href="#cb2-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-697"><a href="#cb2-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-698"><a href="#cb2-698" aria-hidden="true" tabindex="-1"></a><span class="co"># Hent data fra Danmarks Statistik ----------------------------------------</span></span>
<span id="cb2-699"><a href="#cb2-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-700"><a href="#cb2-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-701"><a href="#cb2-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-702"><a href="#cb2-702" aria-hidden="true" tabindex="-1"></a><span class="co"># https://api.statbank.dk/v1/data/FOLK1A/JSONSTAT?OMRÅDE=791&amp;KØN=1&amp;ALDER=&gt;30&lt;60&amp;CIVILSTAND=U&amp;Tid=2022K3</span></span>
<span id="cb2-703"><a href="#cb2-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-704"><a href="#cb2-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-705"><a href="#cb2-705" aria-hidden="true" tabindex="-1"></a><span class="do">## Her bygger vi vores api kald op</span></span>
<span id="cb2-706"><a href="#cb2-706" aria-hidden="true" tabindex="-1"></a>base_url <span class="ot">&lt;-</span> <span class="st">"https://api.statbank.dk/v1/data/"</span> </span>
<span id="cb2-707"><a href="#cb2-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-708"><a href="#cb2-708" aria-hidden="true" tabindex="-1"></a>data_url <span class="ot">&lt;-</span> <span class="st">"FOLK1A/JSONSTAT?"</span></span>
<span id="cb2-709"><a href="#cb2-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-710"><a href="#cb2-710" aria-hidden="true" tabindex="-1"></a>info_url <span class="ot">&lt;-</span> <span class="st">"OMR%C3%85DE=791&amp;K%C3%98N=TOT&amp;ALDER=IALT&amp;CIVILSTAND=TOT&amp;Tid=*"</span> </span>
<span id="cb2-711"><a href="#cb2-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-712"><a href="#cb2-712" aria-hidden="true" tabindex="-1"></a><span class="do">## her samler vi vores url til en url, som vi kalder api'et med </span></span>
<span id="cb2-713"><a href="#cb2-713" aria-hidden="true" tabindex="-1"></a>full_url <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">paste0</span>(base_url, data_url, info_url)</span>
<span id="cb2-714"><a href="#cb2-714" aria-hidden="true" tabindex="-1"></a>full_url</span>
<span id="cb2-715"><a href="#cb2-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-716"><a href="#cb2-716" aria-hidden="true" tabindex="-1"></a><span class="do">## API call</span></span>
<span id="cb2-717"><a href="#cb2-717" aria-hidden="true" tabindex="-1"></a>api_call <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">GET</span>(full_url) <span class="do">## vi kalder API med et GET request </span></span>
<span id="cb2-718"><a href="#cb2-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-719"><a href="#cb2-719" aria-hidden="true" tabindex="-1"></a><span class="do">## API response</span></span>
<span id="cb2-720"><a href="#cb2-720" aria-hidden="true" tabindex="-1"></a>api_call<span class="sc">$</span>status_code <span class="do">## Her finder vi ud af, om der er response,</span></span>
<span id="cb2-721"><a href="#cb2-721" aria-hidden="true" tabindex="-1"></a><span class="do">##vi skulle gerne få status=200 hvis ikke er der noget galt med kaldet,</span></span>
<span id="cb2-722"><a href="#cb2-722" aria-hidden="true" tabindex="-1"></a><span class="do">##eller serveren er nede (ikke så sandsynligt).</span></span>
<span id="cb2-723"><a href="#cb2-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-724"><a href="#cb2-724" aria-hidden="true" tabindex="-1"></a><span class="fu">http_type</span>(api_call)<span class="do">## Her kan vi se, hvilket format vi får tilbage; her er det</span></span>
<span id="cb2-725"><a href="#cb2-725" aria-hidden="true" tabindex="-1"></a><span class="do">## text/json</span></span>
<span id="cb2-726"><a href="#cb2-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-727"><a href="#cb2-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-728"><a href="#cb2-728" aria-hidden="true" tabindex="-1"></a><span class="do">## Her ser vi, om der kommer noget data med tilbage; dette er hexadecimal</span></span>
<span id="cb2-729"><a href="#cb2-729" aria-hidden="true" tabindex="-1"></a><span class="do">## Er der kun et par hexadecimaler oppe i  venstre hjørne, så er der sikkert </span></span>
<span id="cb2-730"><a href="#cb2-730" aria-hidden="true" tabindex="-1"></a><span class="do">## også noget galt med kaldet til API'et</span></span>
<span id="cb2-731"><a href="#cb2-731" aria-hidden="true" tabindex="-1"></a>api_call<span class="sc">$</span>content</span>
<span id="cb2-732"><a href="#cb2-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-733"><a href="#cb2-733" aria-hidden="true" tabindex="-1"></a><span class="do">### Efter at have tjekket kaldet ovenfor og set, at vi får et brugbart response,</span></span>
<span id="cb2-734"><a href="#cb2-734" aria-hidden="true" tabindex="-1"></a><span class="do">### bruger vi "fromJSONstat" fra "rjstat" pakken. Denne parser JSONstat formatet</span></span>
<span id="cb2-735"><a href="#cb2-735" aria-hidden="true" tabindex="-1"></a><span class="do">### fra JSONstat objekter til en læsbar list: </span></span>
<span id="cb2-736"><a href="#cb2-736" aria-hidden="true" tabindex="-1"></a>jsonList1 <span class="ot">&lt;-</span> <span class="fu">fromJSONstat</span>(full_url)</span>
<span id="cb2-737"><a href="#cb2-737" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(jsonList1)</span>
<span id="cb2-738"><a href="#cb2-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-739"><a href="#cb2-739" aria-hidden="true" tabindex="-1"></a><span class="do">## Her laver vi så vores jsonlist1 om til en tibble</span></span>
<span id="cb2-740"><a href="#cb2-740" aria-hidden="true" tabindex="-1"></a>viborgindbyggere <span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(jsonList1)</span>
<span id="cb2-741"><a href="#cb2-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-742"><a href="#cb2-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-743"><a href="#cb2-743" aria-hidden="true" tabindex="-1"></a>viborgindbyggere</span>
<span id="cb2-744"><a href="#cb2-744" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(viborgindbyggere)</span>
<span id="cb2-745"><a href="#cb2-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-746"><a href="#cb2-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-747"><a href="#cb2-747" aria-hidden="true" tabindex="-1"></a>viborgindbyggere <span class="ot">&lt;-</span> viborgindbyggere <span class="sc">%&gt;%</span> </span>
<span id="cb2-748"><a href="#cb2-748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-749"><a href="#cb2-749" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(value, tid)</span>
<span id="cb2-750"><a href="#cb2-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-751"><a href="#cb2-751" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret en sekvens af datoer fra 1.1.2008 til 1.11.2023 med daglig frekvens</span></span>
<span id="cb2-752"><a href="#cb2-752" aria-hidden="true" tabindex="-1"></a>alle_datoer <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2008-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2023-11-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>)</span>
<span id="cb2-753"><a href="#cb2-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-754"><a href="#cb2-754" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret en ny dataframe</span></span>
<span id="cb2-755"><a href="#cb2-755" aria-hidden="true" tabindex="-1"></a>datoer <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-756"><a href="#cb2-756" aria-hidden="true" tabindex="-1"></a>  <span class="at">Dato =</span> alle_datoer,</span>
<span id="cb2-757"><a href="#cb2-757" aria-hidden="true" tabindex="-1"></a>  <span class="at">tid =</span> <span class="fu">paste0</span>(<span class="fu">format</span>(alle_datoer, <span class="st">"%Y"</span>), <span class="st">"K"</span>, <span class="fu">quarter</span>(alle_datoer))</span>
<span id="cb2-758"><a href="#cb2-758" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-759"><a href="#cb2-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-760"><a href="#cb2-760" aria-hidden="true" tabindex="-1"></a><span class="co"># Vis de første rækker i resultatet</span></span>
<span id="cb2-761"><a href="#cb2-761" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datoer)</span>
<span id="cb2-762"><a href="#cb2-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-763"><a href="#cb2-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-764"><a href="#cb2-764" aria-hidden="true" tabindex="-1"></a><span class="co"># Foretag en venstre join mellem datoer og viborgindbyggere</span></span>
<span id="cb2-765"><a href="#cb2-765" aria-hidden="true" tabindex="-1"></a>indbyggerdato <span class="ot">&lt;-</span> <span class="fu">merge</span>(datoer, viborgindbyggere, <span class="at">by =</span> <span class="st">"tid"</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-766"><a href="#cb2-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-767"><a href="#cb2-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-768"><a href="#cb2-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-769"><a href="#cb2-769" aria-hidden="true" tabindex="-1"></a><span class="co"># Hent data fra kalender-365.dk -------------------------------------------</span></span>
<span id="cb2-770"><a href="#cb2-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-771"><a href="#cb2-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-772"><a href="#cb2-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-773"><a href="#cb2-773" aria-hidden="true" tabindex="-1"></a><span class="co"># Opret en tom liste til at gemme data frames</span></span>
<span id="cb2-774"><a href="#cb2-774" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb2-775"><a href="#cb2-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-776"><a href="#cb2-776" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop gennem år fra 2007 til 2023</span></span>
<span id="cb2-777"><a href="#cb2-777" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (year <span class="cf">in</span> <span class="dv">2007</span><span class="sc">:</span><span class="dv">2023</span>) {</span>
<span id="cb2-778"><a href="#cb2-778" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Konstruér URL'en med det aktuelle år</span></span>
<span id="cb2-779"><a href="#cb2-779" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://www.kalender-365.dk/helligdage/"</span>, year, <span class="st">".html"</span>)</span>
<span id="cb2-780"><a href="#cb2-780" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-781"><a href="#cb2-781" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Hent HTML fra URL'en</span></span>
<span id="cb2-782"><a href="#cb2-782" aria-hidden="true" tabindex="-1"></a>  html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb2-783"><a href="#cb2-783" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-784"><a href="#cb2-784" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Udtræk tabeldata fra HTML'en (tilpas selektoren efter behov)</span></span>
<span id="cb2-785"><a href="#cb2-785" aria-hidden="true" tabindex="-1"></a>  table_data <span class="ot">&lt;-</span> <span class="fu">html_table</span>(<span class="fu">html_nodes</span>(html, <span class="st">".table"</span>), <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-786"><a href="#cb2-786" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-787"><a href="#cb2-787" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Hvis der er data i tabellen</span></span>
<span id="cb2-788"><a href="#cb2-788" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(table_data)) {</span>
<span id="cb2-789"><a href="#cb2-789" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Konverter data fra listen til et data frame</span></span>
<span id="cb2-790"><a href="#cb2-790" aria-hidden="true" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(table_data[[<span class="dv">1</span>]])</span>
<span id="cb2-791"><a href="#cb2-791" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-792"><a href="#cb2-792" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Gem data frame i listen</span></span>
<span id="cb2-793"><a href="#cb2-793" aria-hidden="true" tabindex="-1"></a>    all_data[[<span class="fu">length</span>(all_data) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> data</span>
<span id="cb2-794"><a href="#cb2-794" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-795"><a href="#cb2-795" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-796"><a href="#cb2-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-797"><a href="#cb2-797" aria-hidden="true" tabindex="-1"></a><span class="co"># Sammenføj alle data frames i listen til én stor data frame</span></span>
<span id="cb2-798"><a href="#cb2-798" aria-hidden="true" tabindex="-1"></a>Helligdage <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, all_data)</span>
<span id="cb2-799"><a href="#cb2-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-800"><a href="#cb2-800" aria-hidden="true" tabindex="-1"></a>Helligdage <span class="ot">&lt;-</span> Helligdage <span class="sc">%&gt;%</span></span>
<span id="cb2-801"><a href="#cb2-801" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Helligdage<span class="sc">$</span>Helligdag <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Valentinsdag"</span>, <span class="st">"Sommertid"</span>, <span class="st">"Mors dag"</span>, <span class="st">"Fars dag"</span>, <span class="st">"Sankt Hans"</span>, <span class="st">"Vintertid"</span>, <span class="st">"Halloween"</span>, <span class="st">"Mortensdag"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-802"><a href="#cb2-802" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Dage tilbage"</span>, <span class="sc">-</span>Helligdag, <span class="sc">-</span>Dag) <span class="sc">%&gt;%</span></span>
<span id="cb2-803"><a href="#cb2-803" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Helligd. =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-804"><a href="#cb2-804" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dato =</span> <span class="fu">format</span>(<span class="fu">dmy</span>(Dato), <span class="st">"%Y-%m-%d"</span>))</span>
<span id="cb2-805"><a href="#cb2-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-806"><a href="#cb2-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-807"><a href="#cb2-807" aria-hidden="true" tabindex="-1"></a>Helligdage</span>
<span id="cb2-808"><a href="#cb2-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-809"><a href="#cb2-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-810"><a href="#cb2-810" aria-hidden="true" tabindex="-1"></a>dmiAll1</span>
<span id="cb2-811"><a href="#cb2-811" aria-hidden="true" tabindex="-1"></a>dmiAll1<span class="sc">$</span>Dato <span class="ot">&lt;-</span> <span class="fu">as.character</span>(dmiAll1<span class="sc">$</span>Dato)</span>
<span id="cb2-812"><a href="#cb2-812" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dmiAll1)</span>
<span id="cb2-813"><a href="#cb2-813" aria-hidden="true" tabindex="-1"></a>indbyggerdato</span>
<span id="cb2-814"><a href="#cb2-814" aria-hidden="true" tabindex="-1"></a>indbyggerdato<span class="sc">$</span>Dato <span class="ot">&lt;-</span> <span class="fu">as.character</span>(indbyggerdato<span class="sc">$</span>Dato)</span>
<span id="cb2-815"><a href="#cb2-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-816"><a href="#cb2-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-817"><a href="#cb2-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-818"><a href="#cb2-818" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge DMIdata, Hellidage og DST -----------------------------------------</span></span>
<span id="cb2-819"><a href="#cb2-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-820"><a href="#cb2-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-821"><a href="#cb2-821" aria-hidden="true" tabindex="-1"></a><span class="co"># Udfør left join af dmiall og helligedage baseret på dato</span></span>
<span id="cb2-822"><a href="#cb2-822" aria-hidden="true" tabindex="-1"></a>dmidata <span class="ot">&lt;-</span> dmiAll1 <span class="sc">%&gt;%</span></span>
<span id="cb2-823"><a href="#cb2-823" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(Helligdage, <span class="at">by =</span> <span class="st">"Dato"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-824"><a href="#cb2-824" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fortsæt med left join dst baseret på dato</span></span>
<span id="cb2-825"><a href="#cb2-825" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(indbyggerdato, <span class="at">by =</span> <span class="st">"Dato"</span>)</span>
<span id="cb2-826"><a href="#cb2-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-827"><a href="#cb2-827" aria-hidden="true" tabindex="-1"></a>dmidata <span class="ot">&lt;-</span> dmidata <span class="sc">%&gt;%</span></span>
<span id="cb2-828"><a href="#cb2-828" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>tid) <span class="sc">|&gt;</span> </span>
<span id="cb2-829"><a href="#cb2-829" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Helligd. =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(Helligd.), <span class="dv">0</span>, Helligd.)) <span class="sc">|&gt;</span> </span>
<span id="cb2-830"><a href="#cb2-830" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">indbyggertal =</span> value)</span>
<span id="cb2-831"><a href="#cb2-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-832"><a href="#cb2-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-833"><a href="#cb2-833" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge dmi datasæt og Superstats datasæt  --------------------------------</span></span>
<span id="cb2-834"><a href="#cb2-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-835"><a href="#cb2-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-836"><a href="#cb2-836" aria-hidden="true" tabindex="-1"></a>fulldata <span class="ot">&lt;-</span> superstats <span class="sc">%&gt;%</span></span>
<span id="cb2-837"><a href="#cb2-837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(dmidata, <span class="at">by =</span> <span class="st">"Dato"</span>)</span>
<span id="cb2-838"><a href="#cb2-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-839"><a href="#cb2-839" aria-hidden="true" tabindex="-1"></a><span class="co"># på baggrund af research indsættes inbyggertal i de manglende observationer der mangler i 2007</span></span>
<span id="cb2-840"><a href="#cb2-840" aria-hidden="true" tabindex="-1"></a>fulldata<span class="sc">$</span>indbyggertal[<span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>] <span class="ot">&lt;-</span> <span class="dv">90518</span></span>
<span id="cb2-841"><a href="#cb2-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-842"><a href="#cb2-842" aria-hidden="true" tabindex="-1"></a>sl_klar <span class="ot">&lt;-</span> fulldata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This creates a dataset with 542 observations, that we can investigate</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#vi skaber en interaktiv tabel</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(sl_klar, <span class="at">caption =</span> htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">caption</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">'caption-side: top; text-align: center;'</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Table 1: '</span>, htmltools<span class="sc">::</span><span class="fu">em</span>(<span class="st">'Viborg FF kampe since 2007 '</span>))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d749aa9a5072150932a9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d749aa9a5072150932a9">{"x":{"filter":"none","vertical":false,"caption":"<caption style=\"caption-side: top; text-align: center;\">\n  Table 1: \n  <em>Viborg FF kampe since 2007 <\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542"],[2,6,12,21,30,33,40,43,51,60,62,67,76,80,90,96,100,103,112,118,123,123,131,138,144,147,151,159,167,171,179,182,191,193,248,249,259,272,281,280,290,304,307,320,321,329,344,345,356,361,375,382,392,394,406,473,418,425,433,441,450,460,470,416,483,493,502,510,519,526,529,540,549,562,560,570,578,585,597,604,619,630,633,642,614,654,660,665,678,697,696,712,688,716,727,735,737,750,753,762,776,781,789,797,801,809,824,826,837,846,853,860,872,878,883,889,899,912,916,921,932,937,947,955,961,968,981,982,989,996,1008,1010,1017,1030,1031,1038,1049,1054,1065,1068,1074,1080,1087,1096,1102,1109,1130,1118,1118,1124,1142,1144,1151,1160,1166,1172,1174,1183,1190,1195,1197,1203,1214,1215,1226,1228,1233,1244,1249,1251,1263,1271,1275,1282,1288,1294,1303,1308,1262,1315,1321,1326,1334,1338,1190,1195,1203,1207,1216,1221,1228,1233,1238,1243,1251,1258,1261,1270,1273,1282,1286,1296,1299,1303,1311,1317,1321,1330,1335,1341,1345,1354,1359,1365,1371,1375,1386,1542,1546,1556,1560,1564,1572,1578,1582,1592,1594,1604,1608,1611,1620,1628,1634,1636,1641,1647,1654,1660,1667,1672,1677,1688,1690,1695,1703,1707,1716,1721,1721,1726,1735,1586,1595,1596,1603,1611,1615,1621,1627,1634,1640,1648,1654,1658,1664,1672,1678,1681,1691,1694,1700,1706,1714,1722,1723,1731,1738,1741,1749,1753,1761,1770,1773,1779,1783,1790,1797,1806,1811,1821,1831,1834,1843,1852,1854,1865,1867,1875,1882,1893,1898,1904,1911,1916,1929,1935,1943,1944,1953,1958,1969,1974,1982,1986,1996,2003,2009,2016,2026,2031,2135,2142,2148,2155,2157,2168,2176,2174,2184,2188,2193,2205,2213,2203,2217,2228,2231,2237,2244,2249,2256,2260,2271,2278,2268,2290,2297,2288,2301,2308,2314,2322,2326,2326,2336,2338,2347,2352,2358,2364,2368,2376,2384,2386,2394,2397,2414,2408,2417,2426,2432,2438,2443,2447,2455,2457,2466,2471,2479,2483,2492,2492,2493,2504,2510,2516,2518,2527,2529,2535,2544,2550,2553,2563,2565,2578,2575,2589,2597,2607,2588,2618,2622,2626,2636,2606,2637,2645,2649,2655,2666,2672,2674,2682,2687,2692,2702,2705,2710,2719,2724,2727,2736,2742,2749,2753,2760,2763,2774,2780,2781,2788,2793,2799,2808,2811,2819,2824,2834,2836,2842,2848,2854,2860,2860,2867,2871,2877,2884,2894,2899,2904,2908,2913,2964,2973,2975,2981,2988,2997,3000,3007,3012,3018,3028,3029,3040,3044,3047,3053,3061,3070,3074,3077,3084,3090,3095,3106,3108,3113,3113,3121,3125,3136,3141,3147,3151,3156,3162,3170,3175,3181,3188,3193,3198,3208,3213,3216,3221,3229,3238,3242,3247,3254,3262,3264,3271,3276,3282,3290,3293,3293,3302,3306,3312,3321,3328,3332,3338,3344,3352,3353,3364,3370,3376,3377,3387,3389,3397,3405,3410,3416,3421,3427,3436,3438,3448,3449,3456,3463,3471,3477],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,1,2,3,4,6,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,30,23,24,25,26,27,28,29,22,1,2,3,4,5,6,7,8,9,11,10,12,13,14,15,16,18,19,20,21,17,22,23,24,25,28,27,29,26,30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,25,23,23,24,26,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,20,29,30,31,32,33,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,31,32,33,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,1,2,3,4,5,6,8,7,9,10,11,13,14,12,15,16,17,18,19,20,21,22,24,25,23,27,28,26,29,30,31,32,33,33,1,2,3,4,5,6,7,8,9,10,11,12,14,13,15,16,17,18,19,20,21,22,23,24,25,26,27,27,28,29,30,31,32,33,1,2,3,4,5,6,7,9,8,11,12,14,10,15,16,17,18,13,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,23,24,25,26,27,28,29,30,31,32,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],["2007-07-18","2007-07-22","2007-07-28","2007-08-05","2007-08-13","2007-08-19","2007-08-26","2007-09-01","2007-09-16","2007-09-24","2007-09-30","2007-10-06","2007-10-21","2007-10-28","2007-11-05","2007-11-12","2007-11-25","2007-12-01","2008-03-16","2008-03-20","2008-03-23","2008-03-23","2008-03-31","2008-04-07","2008-04-14","2008-04-20","2008-04-23","2008-04-27","2008-05-04","2008-05-07","2008-05-12","2008-05-15","2008-05-18","2008-05-24","2008-08-10","2008-08-16","2008-08-27","2008-08-31","2008-09-13","2008-09-17","2008-09-21","2008-10-05","2008-10-12","2008-10-19","2008-10-25","2008-11-01","2008-11-09","2008-11-15","2008-11-23","2009-03-21","2009-03-29","2009-04-05","2009-04-09","2009-04-13","2009-04-19","2009-04-28","2009-05-02","2009-05-09","2009-05-16","2009-05-20","2009-05-28","2009-06-01","2009-06-07","2009-06-14","2009-08-09","2009-08-16","2009-08-23","2009-08-30","2009-09-06","2009-09-13","2009-09-19","2009-09-27","2009-10-04","2009-10-17","2009-10-22","2009-10-25","2009-10-31","2009-11-06","2009-11-15","2010-03-24","2010-04-01","2010-04-05","2010-04-09","2010-04-18","2010-04-21","2010-04-25","2010-05-01","2010-05-08","2010-05-16","2010-06-04","2010-06-09","2010-06-13","2010-06-16","2010-06-20","2010-08-08","2010-08-15","2010-08-20","2010-08-29","2010-09-03","2010-09-10","2010-09-19","2010-09-26","2010-10-02","2010-10-10","2010-10-15","2010-10-22","2010-10-31","2010-11-05","2010-11-14","2010-11-21","2011-03-20","2011-03-27","2011-04-03","2011-04-10","2011-04-13","2011-04-16","2011-04-21","2011-04-25","2011-04-30","2011-05-06","2011-05-14","2011-05-19","2011-05-24","2011-05-29","2011-08-12","2011-08-19","2011-08-28","2011-09-04","2011-09-09","2011-09-16","2011-09-25","2011-10-01","2011-10-07","2011-10-16","2011-10-21","2011-10-28","2011-11-06","2011-11-13","2012-04-05","2012-04-09","2012-04-13","2012-04-20","2012-04-27","2012-05-05","2012-05-11","2012-05-20","2012-05-23","2012-05-27","2012-05-27","2012-06-01","2012-06-10","2012-07-28","2012-08-03","2012-08-08","2012-08-12","2012-08-19","2012-08-26","2012-09-02","2012-09-09","2012-09-16","2012-09-21","2012-09-28","2012-10-07","2012-10-12","2012-10-21","2012-10-27","2012-11-02","2012-11-11","2012-11-18","2012-11-23","2013-03-24","2013-04-01","2013-04-04","2013-04-07","2013-04-12","2013-04-19","2013-04-24","2013-04-28","2013-05-02","2013-05-05","2013-05-08","2013-05-12","2013-05-17","2013-05-20","2013-07-20","2013-07-26","2013-08-04","2013-08-09","2013-08-18","2013-08-25","2013-09-01","2013-09-15","2013-09-21","2013-09-27","2013-10-06","2013-10-20","2013-10-25","2013-11-03","2013-11-08","2013-11-24","2013-11-30","2013-12-09","2014-02-23","2014-02-28","2014-03-09","2014-03-16","2014-03-21","2014-03-30","2014-04-06","2014-04-13","2014-04-16","2014-04-21","2014-04-27","2014-05-04","2014-05-08","2014-05-11","2014-05-18","2014-07-27","2014-08-03","2014-08-10","2014-08-17","2014-08-23","2014-08-31","2014-09-07","2014-09-12","2014-09-21","2014-09-26","2014-10-06","2014-10-12","2014-10-17","2014-10-24","2014-11-02","2014-11-10","2014-11-15","2014-11-23","2015-03-12","2015-03-20","2015-03-27","2015-04-02","2015-04-06","2015-04-09","2015-04-19","2015-04-25","2015-04-30","2015-05-08","2015-05-13","2015-05-20","2015-05-24","2015-05-24","2015-05-30","2015-06-06","2015-07-18","2015-07-27","2015-07-31","2015-08-08","2015-08-16","2015-08-23","2015-08-29","2015-09-12","2015-09-19","2015-09-25","2015-10-04","2015-10-18","2015-10-24","2015-10-31","2015-11-08","2015-11-22","2015-11-27","2015-12-07","2016-02-28","2016-03-05","2016-03-12","2016-03-20","2016-04-04","2016-04-08","2016-04-17","2016-04-24","2016-04-29","2016-05-08","2016-05-11","2016-05-16","2016-05-23","2016-05-26","2016-05-29","2016-07-15","2016-07-22","2016-07-29","2016-08-06","2016-08-12","2016-08-21","2016-08-28","2016-09-10","2016-09-18","2016-09-22","2016-09-25","2016-10-02","2016-10-14","2016-10-21","2016-10-28","2016-11-06","2016-11-20","2016-11-26","2016-11-29","2016-12-03","2016-12-12","2017-02-19","2017-02-27","2017-03-03","2017-03-11","2017-03-19","2017-04-02","2017-04-08","2017-04-17","2017-04-21","2017-04-30","2017-05-07","2017-05-12","2017-05-16","2017-05-22","2017-05-28","2017-07-30","2017-08-06","2017-08-13","2017-08-20","2017-08-23","2017-08-28","2017-09-10","2017-09-13","2017-09-17","2017-09-24","2017-10-01","2017-10-15","2017-10-22","2017-10-25","2017-10-29","2017-11-06","2017-11-12","2017-11-19","2017-11-26","2018-03-04","2018-03-11","2018-03-18","2018-03-29","2018-04-02","2018-04-11","2018-04-15","2018-04-20","2018-04-24","2018-04-28","2018-05-05","2018-05-12","2018-05-16","2018-05-20","2018-05-20","2018-07-29","2018-08-05","2018-08-12","2018-08-19","2018-08-22","2018-08-26","2018-09-01","2018-09-09","2018-09-16","2018-09-23","2018-09-30","2018-10-05","2018-10-21","2018-10-25","2018-10-28","2018-11-04","2018-11-12","2018-11-18","2018-11-25","2019-03-03","2019-03-10","2019-03-17","2019-03-24","2019-03-31","2019-04-07","2019-04-14","2019-04-21","2019-04-21","2019-04-27","2019-05-05","2019-05-09","2019-05-14","2019-05-19","2019-05-25","2019-07-26","2019-08-03","2019-08-11","2019-08-16","2019-08-21","2019-08-25","2019-08-29","2019-09-14","2019-09-19","2019-09-28","2019-10-06","2019-10-18","2019-10-24","2019-10-27","2019-11-02","2019-11-08","2019-11-23","2019-11-28","2020-02-28","2020-03-07","2020-05-29","2020-06-05","2020-06-11","2020-06-14","2020-06-19","2020-06-24","2020-06-27","2020-06-30","2020-07-06","2020-07-10","2020-07-14","2020-07-19","2020-07-25","2020-09-10","2020-09-16","2020-09-19","2020-09-27","2020-09-30","2020-10-03","2020-10-16","2020-10-22","2020-10-25","2020-10-30","2020-11-06","2020-11-20","2020-11-26","2020-12-05","2020-12-11","2020-12-18","2021-02-12","2021-02-21","2021-02-26","2021-03-05","2021-03-13","2021-03-19","2021-04-04","2021-04-04","2021-04-10","2021-04-16","2021-04-23","2021-04-30","2021-05-07","2021-05-12","2021-05-15","2021-05-21","2021-05-26","2021-07-18","2021-07-25","2021-07-31","2021-08-06","2021-08-13","2021-08-22","2021-08-29","2021-09-12","2021-09-19","2021-09-26","2021-10-03","2021-10-15","2021-10-25","2021-10-31","2021-11-05","2021-11-19","2021-11-28","2022-02-21","2022-02-27","2022-03-04","2022-03-13","2022-03-20","2022-04-01","2022-04-11","2022-04-14","2022-04-17","2022-04-17","2022-04-24","2022-04-29","2022-05-09","2022-05-12","2022-05-15","2022-05-21","2022-07-17","2022-07-24","2022-07-31","2022-08-06","2022-08-14","2022-08-21","2022-08-28","2022-09-04","2022-09-12","2022-09-18","2022-10-02","2022-10-07","2022-10-16","2022-10-24","2022-10-30","2022-11-06","2022-11-13","2023-02-20","2023-02-26","2023-03-05","2023-03-12","2023-03-19","2023-04-02","2023-04-09","2023-04-09","2023-04-16","2023-04-23","2023-04-30","2023-05-07","2023-05-15","2023-05-21","2023-05-29","2023-06-04","2023-07-24","2023-07-28","2023-08-07","2023-08-14","2023-08-21","2023-08-25","2023-09-03","2023-09-15","2023-09-24","2023-10-01","2023-10-08","2023-10-22","2023-10-29","2023-11-05","2023-11-12","2023-11-25","2023-12-04","2024-02-16","2024-02-25","2024-03-03","2024-03-10","2024-03-17"],["18:00:00","14:00:00","17:00:00","16:00:00","19:00:00","16:00:00","16:00:00","17:00:00","16:00:00","19:00:00","14:00:00","17:00:00","16:00:00","14:00:00","19:00:00","19:00:00","16:00:00","17:00:00","16:00:00","16:00:00","16:00:00","16:00:00","19:00:00","19:00:00","19:00:00","16:00:00","18:00:00","16:00:00","18:00:00","20:30:00","16:00:00","18:30:00","15:00:00","15:00:00","15:00:00","17:30:00","18:30:00","15:00:00","19:00:00","19:00:00","15:00:00","15:00:00","15:00:00","15:00:00","19:00:00","19:15:00","15:00:00","19:00:00","15:00:00","13:00:00","15:00:00","15:00:00","15:00:00","13:00:00","15:00:00","19:00:00","19:00:00","13:30:00","13:30:00","19:00:00","19:00:00","15:00:00","15:00:00","17:30:00","13:00:00","13:00:00","15:00:00","15:00:00","17:05:00","15:00:00","14:45:00","13:45:00","13:45:00","15:00:00","18:30:00","13:00:00","14:00:00","19:00:00","15:00:00","18:30:00","13:00:00","15:00:00","19:00:00","13:00:00","19:00:00","15:00:00","15:00:00","14:00:00","15:00:00","18:00:00","19:00:00","17:30:00","19:00:00","17:00:00","15:00:00","15:00:00","19:00:00","15:00:00","19:00:00","19:00:00","15:00:00","15:00:00","15:00:00","15:00:00","18:00:00","18:00:00","15:00:00","19:00:00","13:45:00","15:00:00","15:00:00","15:00:00","15:00:00","15:00:00","19:00:00","14:45:00","13:00:00","15:00:00","15:00:00","19:00:00","15:00:00","19:00:00","19:00:00","13:30:00","18:00:00","19:00:00","15:00:00","13:00:00","19:00:00","18:00:00","15:00:00","15:00:00","18:30:00","15:00:00","19:00:00","18:30:00","13:45:00","14:00:00","15:00:00","15:00:00","19:00:00","18:30:00","18:30:00","15:00:00","19:00:00","13:00:00","19:00:00","15:00:00","15:00:00","19:00:00","14:00:00","15:00:00","19:00:00","19:00:00","15:00:00","19:00:00","13:00:00","18:30:00","16:00:00","15:00:00","19:00:00","19:00:00","15:15:00","19:00:00","16:45:00","19:00:00","19:00:00","16:45:00","15:00:00","19:00:00","16:00:00","15:00:00","15:00:00","13:45:00","19:00:00","19:00:00","19:00:00","15:00:00","19:00:00","15:00:00","19:00:00","15:00:00","19:00:00","14:00:00","17:00:00","18:30:00","14:00:00","18:30:00","17:00:00","15:00:00","17:00:00","14:00:00","17:00:00","18:30:00","15:00:00","17:00:00","18:30:00","14:00:00","18:30:00","17:00:00","17:00:00","19:00:00","14:00:00","18:30:00","14:00:00","14:00:00","18:30:00","17:00:00","14:00:00","14:00:00","20:00:00","15:00:00","14:00:00","14:00:00","18:00:00","17:00:00","17:00:00","15:00:00","15:00:00","15:30:00","15:00:00","15:00:00","15:00:00","15:30:00","19:00:00","19:00:00","19:00:00","19:00:00","16:30:00","19:00:00","19:00:00","15:30:00","19:00:00","15:00:00","15:00:00","19:00:00","19:00:00","19:00:00","15:00:00","14:30:00","18:30:00","15:30:00","14:30:00","18:00:00","19:00:00","19:00:00","19:00:00","15:00:00","15:00:00","16:00:00","16:00:00","16:00:00","19:00:00","18:00:00","16:00:00","16:00:00","13:30:00","16:00:00","16:00:00","16:00:00","20:00:00","16:00:00","16:00:00","16:00:00","20:00:00","13:30:00","16:00:00","18:00:00","19:00:00","13:00:00","16:00:00","16:00:00","14:00:00","19:00:00","18:00:00","13:00:00","16:00:00","18:00:00","13:00:00","18:00:00","13:00:00","19:00:00","20:00:00","17:00:00","18:00:00","20:15:00","18:00:00","16:00:00","18:00:00","13:00:00","20:00:00","14:00:00","16:00:00","20:00:00","12:00:00","16:00:00","18:00:00","20:15:00","20:15:00","16:00:00","13:00:00","16:00:00","20:00:00","16:00:00","19:00:00","18:00:00","19:00:00","18:00:00","16:00:00","17:00:00","16:00:00","16:00:00","13:00:00","18:00:00","13:00:00","16:00:00","18:00:00","20:00:00","19:00:00","18:00:00","13:45:00","14:30:00","13:45:00","14:30:00","18:00:00","19:00:00","13:45:00","19:00:00","13:45:00","13:45:00","13:00:00","14:30:00","14:30:00","19:00:00","14:30:00","19:00:00","13:45:00","14:30:00","14:30:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","17:30:00","13:45:00","18:00:00","19:00:00","15:30:00","15:30:00","15:30:00","18:30:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","14:45:00","18:30:00","13:45:00","13:30:00","13:45:00","13:45:00","13:45:00","14:45:00","18:00:00","13:45:00","18:30:00","13:45:00","13:45:00","18:30:00","16:00:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:45:00","13:30:00","13:45:00","18:00:00","19:00:00","13:45:00","13:45:00","18:00:00","13:15:00","15:00:00","19:00:00","18:30:00","15:00:00","18:00:00","16:00:00","20:00:00","13:15:00","13:45:00","18:00:00","17:15:00","14:00:00","16:30:00","18:00:00","17:45:00","18:30:00","18:00:00","14:00:00","18:00:00","17:30:00","18:00:00","15:00:00","19:00:00","18:00:00","14:00:00","19:00:00","18:30:00","19:30:00","19:00:00","13:00:00","16:00:00","19:00:00","18:30:00","14:00:00","13:30:00","18:00:00","15:00:00","18:00:00","18:00:00","14:00:00","18:00:00","18:00:00","18:00:00","18:30:00","14:00:00","18:00:00","19:00:00","19:00:00","15:00:00","18:00:00","19:00:00","13:00:00","19:00:00","13:00:00","13:00:00","13:00:00","18:00:00","19:00:00","18:00:00","19:00:00","19:00:00","15:00:00","19:00:00","19:00:00","14:00:00","18:00:00","16:00:00","18:30:00","19:00:00","18:00:00","14:00:00","14:00:00","14:00:00","14:00:00","20:00:00","19:00:00","19:00:00","18:00:00","19:00:00","19:00:00","14:00:00","19:00:00","16:00:00","18:00:00","14:00:00","14:30:00","19:00:00","19:00:00","14:00:00","18:00:00","18:00:00","14:00:00","19:00:00","19:00:00","18:00:00","20:00:00","17:00:00","14:00:00","14:00:00","16:00:00","16:00:00","14:00:00","16:00:00","14:00:00","14:00:00","19:00:00","16:00:00","14:00:00","19:00:00","14:00:00","19:00:00","16:00:00","14:00:00","16:00:00","19:00:00","14:00:00","14:00:00","14:00:00","15:00:00","16:00:00","16:00:00","16:00:00","16:00:00","14:00:00","14:00:00","18:00:00","19:00:00","16:05:00","16:00:00","17:00:00","19:00:00","19:00:00","19:00:00","19:00:00","19:00:00","18:30:00","18:00:00","19:00:00","14:00:00","18:00:00","16:00:00","16:00:00","14:00:00","14:00:00","20:00:00","19:00:00","19:00:00","19:00:00","14:00:00","14:00:00","18:00:00","17:00:00"],["Randers FC","Viborg FF","FC København","FC Midtjylland","Viborg FF","Viborg FF","FC Nordsjælland","Viborg FF","Viborg FF","Odense Boldklub","Aalborg BK","Viborg FF","Lyngby BK","FC Midtjylland","Viborg FF","Viborg FF","AC Horsens","Randers FC","Viborg FF","Viborg FF","Aalborg BK","Aalborg BK","Viborg FF","AGF","Viborg FF","Viborg FF","Odense Boldklub","FC Nordsjælland","Viborg FF","Brøndby IF","Viborg FF","FC København","Viborg FF","Esbjerg fB","Næstved BK","Viborg FF","Kolding FC","Viborg FF","Viborg FF","Køge BK","FC Amager","Viborg FF","FC Fredericia","Viborg FF","AB","Viborg FF","Viborg FF","Thisted FC","Viborg FF","Silkeborg IF","Viborg FF","Lolland Falster","Viborg FF","Skive IK","Viborg FF","Viborg FF","Viborg FF","Lyngby BK","Herfølge BK","Viborg FF","FC Roskilde","Viborg FF","Hvidovre IF","BK Frem","Viborg FF","Thisted FC","Viborg FF","FC Fredericia","Viborg FF","BK Frem","Viborg FF","AB","AC Horsens","Brabrand IF","Viborg FF","Viborg FF","FC Vestsjælland","Viborg FF","Hvidovre IF","Viborg FF","Viborg FF","Næstved BK","Viborg FF","FC Roskilde","Lyngby BK","Viborg FF","Skive IK","Viborg FF","Kolding FC","Viborg FF","Vejle B","Viborg FF","Viborg FF","FC Fyn","Kolding FC","Viborg FF","Viborg FF","AB","Viborg FF","FC Hjørring","FC Roskilde","Viborg FF","Hobro IK","Viborg FF","Vejle B","Viborg FF","Næstved BK","Viborg FF","AGF","FC Vestsjælland","Viborg FF","Viborg FF","FC Fredericia","Viborg FF","Skive IK","Viborg FF","FC Fyn","Viborg FF","HB Køge","Viborg FF","Brønshøj BK","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","AB","Viborg FF","Skive IK","Viborg FF","Randers FC","Viborg FF","Hobro IK","Viborg FF","Næstved BK","FC Fredericia","Viborg FF","FC Vestsjælland","FC Hjørring","Viborg FF","FC Roskilde","Viborg FF","Vejle B","Viborg FF","Brønshøj BK","Viborg FF","Blokhus FC","Esbjerg fB","Viborg FF","Viborg FF","Viborg FF","Viborg FF","Brønshøj BK","Viborg FF","FC Fredericia","Viborg FF","Vejle B","Lyngby BK","Viborg FF","Viborg FF","AB","Viborg FF","Viborg FF","Brønshøj BK","Viborg FF","Lyngby BK","Viborg FF","Skive IK","Viborg FF","FC Fyn","Viborg FF","Viborg FF","Viborg FF","AB","Viborg FF","Hobro IK","FC Fredericia","Viborg FF","FC Hjørring","Vejle B","Viborg FF","FC Vestsjælland","Viborg FF","HB Køge","Viborg FF","Viborg FF","FC Nordsjælland","Odense Boldklub","Viborg FF","SønderjyskE","Viborg FF","Viborg FF","AGF","FC Midtjylland","Viborg FF","Aalborg BK","Brøndby IF","Viborg FF","AGF","Viborg FF","FC København","Viborg FF","Aalborg BK","Viborg FF","FC Nordsjælland","Viborg FF","Odense Boldklub","FC Vestsjælland","Viborg FF","Viborg FF","Randers FC","Viborg FF","FC Midtjylland","Viborg FF","SønderjyskE","Viborg FF","Viborg FF","Esbjerg fB","Viborg FF","HB Køge","AGF","Viborg FF","Brønshøj BK","Viborg FF","Viborg FF","AB","Viborg FF","Vendsyssel FF","Viborg FF","FC Roskilde","Viborg FF","Vendsyssel FF","Viborg FF","Viborg FF","Vejle B","Viborg FF","Lyngby BK","Viborg FF","Skive IK","Viborg FF","FC Fredericia","Viborg FF","AGF","AC Horsens","Viborg FF","HB Køge","Viborg FF","Viborg FF","AB","AB","Brønshøj BK","Viborg FF","FC Midtjylland","Viborg FF","Viborg FF","HOdense Boldklub","Viborg FF","Randers FC","SønderjyskE","Viborg FF","Odense Boldklub","Viborg FF","FC København","Viborg FF","Viborg FF","FC Midtjylland","Viborg FF","FC København","Viborg FF","Aalborg BK","Viborg FF","HOdense Boldklub","Viborg FF","Randers FC","Esbjerg fB","Viborg FF","Odense Boldklub","Viborg FF","AGF","Viborg FF","SønderjyskE","Viborg FF","Brøndby IF","FC Nordsjælland","Viborg FF","Viborg FF","AGF","Viborg FF","Odense Boldklub","Viborg FF","Silkeborg IF","Viborg FF","Viborg FF","Brøndby IF","Aalborg BK","Viborg FF","Viborg FF","SønderjyskE","Viborg FF","FC Nordsjælland","Viborg FF","Randers FC","Viborg FF","FC København","AC Horsens","Viborg FF","FC Midtjylland","Viborg FF","Esbjerg fB","Lyngby BK","Viborg FF","Viborg FF","Aalborg BK","Viborg FF","Silkeborg IF","Viborg FF","AGF","Viborg FF","AC Horsens","Viborg FF","AGF","Thisted FC","Viborg FF","Nykøbing FC","Fremad Amager","Viborg FF","Vendsyssel FF","Viborg FF","Viborg FF","HB Køge","Viborg FF","Viborg FF","Viborg FF","Vejle B","Esbjerg fB","Viborg FF","FC Fredericia","Skive IK","Viborg FF","FC Roskilde","Viborg FF","Brabrand IF","Viborg FF","Viborg FF","Viborg FF","Fremad Amager","Viborg FF","Thisted FC","Nykøbing FC","Viborg FF","Vendsyssel FF","Viborg FF","HB Køge","Viborg FF","Viborg FF","Viborg FF","HB Køge","Viborg FF","Viborg FF","Silkeborg IF","Viborg FF","Lyngby BK","Viborg FF","Viborg FF","Thisted FC","Hvidovre IF","Viborg FF","Viborg FF","FC Fredericia","FC Roskilde","Viborg FF","FC Helsingør","Viborg FF","Nykøbing FC","Næstved BK","Viborg FF","Fremad Amager","Viborg FF","Lyngby BK","Viborg FF","Thisted FC","Viborg FF","Viborg FF","HB Køge","Viborg FF","Viborg FF","Silkeborg IF","Hvidovre IF","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","Skive IK","Viborg FF","Viborg FF","Vejle B","Fremad Amager","Viborg FF","Viborg FF","FC Roskilde","Viborg FF","Næstved BK","Nykøbing FC","HB Køge","Viborg FF","Vendsyssel FF","Viborg FF","Viborg FF","FC Fredericia","Viborg FF","Kolding IF","Viborg FF","Hvidovre IF","Viborg FF","Skive IK","Viborg FF","Næstved BK","Viborg FF","Fremad Amager","Viborg FF","Vejle B","Viborg FF","Hobro IK","Viborg FF","Viborg FF","HB Køge","Viborg FF","Esbjerg fB","Viborg FF","Silkeborg IF","Hvidovre IF","Viborg FF","FC Fredericia","Viborg FF","Viborg FF","Fremad Amager","Viborg FF","FC Helsingør","Viborg FF","Vendsyssel FF","Viborg FF","Skive IK","Viborg FF","Kolding IF","HB Køge","HB Køge","Viborg FF","Viborg FF","Silkeborg IF","Viborg FF","FC Helsingør","Viborg FF","Esbjerg fB","FC Fredericia","Viborg FF","FC Nordsjælland","Brøndby IF","Viborg FF","Silkeborg IF","Viborg FF","Viborg FF","SønderjyskE","Viborg FF","Vejle Boldklub","Viborg FF","FC København","Viborg FF","Aalborg BK","Viborg FF","Viborg FF","Odense Boldklub","Viborg FF","Randers FC","Viborg FF","FC Midtjylland","Viborg FF","AGF","Viborg FF","Vejle Boldklub","AGF","Viborg FF","Viborg FF","FC Nordsjælland","Viborg FF","Viborg FF","Odense Boldklub","Viborg FF","SønderjyskE","Viborg FF","AGF","Viborg FF","FC Nordsjælland","Viborg FF","Randers FC","Viborg FF","Odense Boldklub","Viborg FF","Viborg FF","FC Midtjylland","Lyngby BK","Viborg FF","Aalborg BK","Silkeborg IF","Viborg FF","Brøndby IF","Viborg FF","AC Horsens","Viborg FF","Viborg FF","FC København","Brøndby IF","Viborg FF","Viborg FF","FC København","Viborg FF","Viborg FF","AGF","Randers FC","Viborg FF","Viborg FF","FC Nordsjælland","FC Nordsjælland","Viborg FF","Odense Boldklub","Viborg FF","Viborg FF","Randers FC","FC København","Viborg FF","Silkeborg IF","Viborg FF","Brøndby IF","Viborg FF","Vejle Boldklub","Viborg FF","AGF","Viborg FF","FC Midtjylland","Viborg FF","Helsingør IF","Viborg FF","Viborg FF","Lyngby BK"],["Viborg FF","Esbjerg fB","Viborg FF","Viborg FF","Brøndby IF","AC Horsens","Viborg FF","AGF","Lyngby BK","Viborg FF","Viborg FF","Brøndby IF","Viborg FF","Viborg FF","Odense Boldklub","AGF","Viborg FF","Viborg FF","Esbjerg fB","FC Nordsjælland","Viborg FF","Viborg FF","FC København","Viborg FF","AC Horsens","FC Midtjylland","Viborg FF","Viborg FF","Aalborg BK","Viborg FF","Lyngby BK","Viborg FF","Randers FC","Viborg FF","Viborg FF","Skive IK","Viborg FF","Lolland Falster","Silkeborg IF","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","FC Roskilde","Viborg FF","Herfølge BK","Lyngby BK","Viborg FF","BK Frem","Viborg FF","Køge BK","Viborg FF","Kolding FC","Viborg FF","Næstved BK","FC Amager","Thisted FC","Viborg FF","Viborg FF","AB","Viborg FF","FC Fredericia","Viborg FF","Viborg FF","FC Roskilde","Viborg FF","Næstved BK","Viborg FF","Lyngby BK","Viborg FF","FC Fyn","Viborg FF","Viborg FF","Viborg FF","Vejle B","Kolding FC","Viborg FF","Skive IK","Viborg FF","BK Frem","FC Fredericia","Viborg FF","Thisted FC","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","FC Vestsjælland","Viborg FF","AC Horsens","Viborg FF","AB","Brabrand IF","Viborg FF","Viborg FF","FC Vestsjælland","Skive IK","Viborg FF","FC Fredericia","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","Brønshøj BK","Viborg FF","HB Køge","Viborg FF","FC Fyn","Viborg FF","Viborg FF","FC Roskilde","FC Hjørring","Viborg FF","AB","Viborg FF","AGF","Viborg FF","Næstved BK","Viborg FF","Vejle B","Viborg FF","Hobro IK","Kolding FC","Viborg FF","FC Hjørring","Viborg FF","FC Roskilde","Viborg FF","Vejle B","Viborg FF","Brønshøj BK","Viborg FF","Blokhus FC","Viborg FF","Viborg FF","Esbjerg fB","Viborg FF","Viborg FF","AB","Viborg FF","Skive IK","Viborg FF","Randers FC","Viborg FF","Hobro IK","Viborg FF","Viborg FF","Næstved BK","Næstved BK","FC Fredericia","FC Vestsjælland","Viborg FF","FC Vestsjælland","Viborg FF","Hobro IK","Viborg FF","Viborg FF","FC Fyn","HB Køge","Viborg FF","Skive IK","FC Hjørring","Viborg FF","AB","Viborg FF","FC Fredericia","Viborg FF","FC Vestsjælland","Viborg FF","HB Køge","FC Hjørring","Hobro IK","Viborg FF","Brønshøj BK","Viborg FF","Viborg FF","Lyngby BK","Viborg FF","Viborg FF","Vejle B","Viborg FF","Skive IK","Viborg FF","FC Fyn","Randers FC","Viborg FF","Viborg FF","Brøndby IF","Viborg FF","Esbjerg fB","FC København","Viborg FF","Viborg FF","FC Vestsjælland","Viborg FF","Viborg FF","FC Vestsjælland","Viborg FF","FC Midtjylland","Viborg FF","SønderjyskE","Viborg FF","Randers FC","Viborg FF","Esbjerg fB","Viborg FF","Viborg FF","Brøndby IF","Odense Boldklub","Viborg FF","Aalborg BK","Viborg FF","AGF","Viborg FF","FC København","FC Nordsjælland","Viborg FF","AC Horsens","Viborg FF","Viborg FF","Skive IK","Viborg FF","FC Roskilde","FC Fredericia","Viborg FF","Lyngby BK","Viborg FF","Vejle B","Viborg FF","FC Fredericia","Viborg FF","AGF","AC Horsens","Viborg FF","Brønshøj BK","Viborg FF","AB","Viborg FF","HB Køge","Viborg FF","Vendsyssel FF","Viborg FF","Viborg FF","Vejle B","Viborg FF","FC Roskilde","Skive IK","Viborg FF","Viborg FF","Viborg FF","Lyngby BK","Viborg FF","AGF","Esbjerg fB","Viborg FF","Brøndby IF","Viborg FF","Viborg FF","FC Nordsjælland","Viborg FF","Aalborg BK","Viborg FF","Brøndby IF","Esbjerg fB","Viborg FF","Odense Boldklub","Viborg FF","AGF","Viborg FF","FC Nordsjælland","Viborg FF","SønderjyskE","Viborg FF","Viborg FF","FC Midtjylland","Viborg FF","FC København","Viborg FF","Aalborg BK","Viborg FF","Randers FC","Viborg FF","Viborg FF","HOdense Boldklub","FC Nordsjælland","Viborg FF","Esbjerg fB","Viborg FF","Randers FC","Viborg FF","FC Midtjylland","AC Horsens","Viborg FF","Viborg FF","Lyngby BK","FC København","Viborg FF","Silkeborg IF","Viborg FF","Brøndby IF","Viborg FF","SønderjyskE","Viborg FF","Viborg FF","Odense Boldklub","Viborg FF","AGF","Viborg FF","Viborg FF","Aalborg BK","AGF","Viborg FF","Silkeborg IF","Viborg FF","Aalborg BK","Viborg FF","AC Horsens","Viborg FF","AGF","Viborg FF","Viborg FF","Esbjerg fB","Viborg FF","Viborg FF","FC Fredericia","Viborg FF","Skive IK","Vejle B","Viborg FF","FC Roskilde","Brabrand IF","Fremad Amager","Viborg FF","Viborg FF","Thisted FC","Viborg FF","Viborg FF","Vendsyssel FF","Viborg FF","Nykøbing FC","Viborg FF","HB Køge","Skive IK","FC Roskilde","Viborg FF","FC Fredericia","Viborg FF","Viborg FF","Vejle B","Viborg FF","Esbjerg fB","Viborg FF","Brabrand IF","Brabrand IF","Nykøbing FC","Viborg FF","FC Helsingør","Fremad Amager","Viborg FF","FC Fredericia","Viborg FF","Næstved BK","FC Roskilde","Viborg FF","Viborg FF","HB Køge","Silkeborg IF","Viborg FF","Viborg FF","Lyngby BK","Viborg FF","Thisted FC","Viborg FF","Viborg FF","Hvidovre IF","Viborg FF","FC Helsingør","Viborg FF","Nykøbing FC","Viborg FF","Næstved BK","Næstved BK","Viborg FF","FC Roskilde","FC Fredericia","Viborg FF","Viborg FF","Fremad Amager","FC Roskilde","Viborg FF","HB Køge","Viborg FF","FC Fredericia","Nykøbing FC","Viborg FF","Viborg FF","Vendsyssel FF","Kolding IF","Viborg FF","Fremad Amager","Viborg FF","Viborg FF","Viborg FF","Næstved BK","Viborg FF","Vejle B","Hvidovre IF","Viborg FF","Skive IK","Viborg FF","FC Roskilde","Viborg FF","FC Fredericia","Viborg FF","HB Køge","Viborg FF","Nykøbing FC","Viborg FF","Vendsyssel FF","Viborg FF","Kolding IF","Viborg FF","Kolding IF","Skive IK","Viborg FF","Vendsyssel FF","Viborg FF","Fremad Amager","Viborg FF","Viborg FF","FC Helsingør","Viborg FF","Hobro IK","Silkeborg IF","Viborg FF","HB Køge","Viborg FF","FC Fredericia","Viborg FF","Hvidovre IF","Viborg FF","Esbjerg fB","Viborg FF","Viborg FF","Viborg FF","FC Fredericia","Esbjerg fB","Viborg FF","FC Helsingør","Viborg FF","Silkeborg IF","Viborg FF","Viborg FF","HB Køge","Viborg FF","Viborg FF","FC Midtjylland","Viborg FF","Randers FC","AGF","Viborg FF","Aalborg BK","Viborg FF","Odense Boldklub","Viborg FF","Silkeborg IF","Viborg FF","Brøndby IF","FC Nordsjælland","Viborg FF","SønderjyskE","Viborg FF","FC København","Viborg FF","Vejle Boldklub","Viborg FF","SønderjyskE","Viborg FF","Viborg FF","Odense Boldklub","Odense Boldklub","Viborg FF","FC Nordsjælland","Vejle Boldklub","Viborg FF","AGF","Viborg FF","Aalborg BK","Viborg FF","FC København","Viborg FF","Silkeborg IF","Viborg FF","Lyngby BK","Viborg FF","AC Horsens","Brøndby IF","Viborg FF","Viborg FF","Odense Boldklub","Viborg FF","Viborg FF","AGF","Viborg FF","FC Midtjylland","Viborg FF","Randers FC","FC Nordsjælland","Viborg FF","Viborg FF","AGF","AGF","Viborg FF","FC Nordsjælland","Randers FC","Viborg FF","Viborg FF","Brøndby IF","FC København","Viborg FF","Viborg FF","Lyngby BK","Viborg FF","Helsingør IF","Vejle Boldklub","Viborg FF","Viborg FF","FC Midtjylland","Viborg FF","AGF","Viborg FF","FC Nordsjælland","Viborg FF","Silkeborg IF","Viborg FF","FC København","Viborg FF","Odense Boldklub","Viborg FF","Randers FC","Brøndby IF","Viborg FF"],["2","0","3","1","1","2","4","2","2","4","3","1","2","2","0","0","1","0","0","2","2","2","2","0","1","1","1","5","0","1","3","3","0","2","0","1","1","2","3","2","1","1","1","0","2","2","3","1","4","0","3","3","3","1","1","3","2","0","4","0","2","1","3","0","2","2","1","1","1","2","0","0","0","1","2","2","2","2","0","1","1","0","0","1","0","2","2","1","2","1","0","1","1","1","0","1","3","2","0","2","2","1","0","3","2","1","0","1","1","3","0","2","3","3","2","2","1","2","3","1","1","0","2","1","4","1","1","0","1","1","1","1","4","0","1","1","3","1","2","0","2","2","2","1","1","1","4","2","2","0","1","2","7","1","1","2","2","2","5","2","2","4","3","0","0","2","0","0","1","0","0","2","0","1","0","1","2","1","1","2","2","3","2","3","2","1","4","2","0","3","1","0","0","2","3","0","4","2","2","4","2","5","1","2","1","1","0","0","2","3","0","5","0","1","0","1","0","1","2","0","0","1","1","2","0","2","0","1","1","2","1","3","1","0","2","0","3","0","2","1","0","1","0","3","0","1","1","2","2","0","1","2","0","2","1","0","0","2","0","2","1","1","0","4","2","0","0","1","2","1","0","0","1","1","1","5","1","1","0","2","2","0","1","1","0","2","2","0","0","1","0","2","1","1","0","0","1","1","4","1","2","2","4","1","1","0","1","1","1","2","2","0","0","1","1","1","3","1","2","1","2","0","4","0","2","1","3","2","3","4","4","0","3","0","2","2","1","2","1","3","0","1","1","2","3","2","0","3","0","1","0","1","3","3","0","1","1","2","2","2","0","2","3","3","1","3","1","1","3","0","1","2","3","1","0","0","1","1","2","0","1","1","1","3","2","2","0","4","3","0","0","0","2","3","4","1","1","1","0","5","1","1","2","2","1","3","1","1","1","3","4","1","0","0","4","2","4","2","4","1","0","1","4","3","0","3","2","3","1","1","3","1","2","1","1","1","0","4","0","1","0","2","0","1","1","4","4","2","0","0","3","0","0","4","1","1","0","4","1","2","2","2","1","1","1","1","2","0","2","2","1","0","0","3","2","1","2","2","0","1","1","2","1","2","1","1","0","2","3","4","1","2","1","2","1","2","0","1","1","0","1","1","1","0","0","0","2","1","2","0","0","0","2","1","3","3","0","1","1","0","4","2","1","0","2","1","2","2","2","2","1","0","1","2","2","2","5","","","","",""],["0","5","1","0","1","1","0","0","1","0","2","2","0","1","2","2","1","2","4","3","0","0","3","0","3","1","0","3","1","1","2","0","1","1","1","0","3","0","2","3","7","1","2","2","1","4","2","1","0","0","0","2","1","3","2","0","0","1","0","2","0","3","0","6","1","1","1","0","0","2","0","0","1","1","1","2","1","1","3","0","1","1","1","1","0","2","0","1","0","0","0","0","1","1","0","2","2","2","1","1","1","3","2","0","0","2","1","1","0","2","1","0","0","0","0","3","2","2","1","0","0","0","2","3","0","0","0","0","1","0","1","1","2","3","2","2","3","2","2","4","2","2","2","3","1","3","0","0","0","3","2","2","1","1","2","2","1","1","0","1","1","1","2","0","2","2","2","0","2","0","0","1","1","0","1","1","0","1","1","1","3","0","1","0","2","1","2","2","3","1","4","1","0","0","1","0","1","1","3","1","2","0","1","0","3","1","1","1","2","1","2","2","3","0","2","3","0","1","3","2","0","2","1","2","2","0","1","1","1","0","0","0","1","1","0","1","0","0","0","2","0","1","0","3","1","0","1","1","1","3","1","0","0","1","1","4","1","1","1","0","0","0","2","2","4","1","0","0","0","1","6","0","3","0","1","1","1","2","2","0","3","1","0","0","4","1","1","0","1","5","0","4","2","0","1","0","0","3","3","2","1","2","0","2","1","0","1","3","0","1","4","1","0","2","1","0","0","0","2","0","1","2","2","6","3","2","2","0","0","3","0","0","1","0","2","2","3","0","0","1","0","0","0","0","0","0","3","3","1","3","0","1","3","3","0","0","1","0","3","2","5","1","2","3","3","1","1","2","1","1","3","0","0","0","2","1","1","4","2","4","1","1","0","1","1","2","1","0","0","1","0","2","2","0","1","2","1","2","2","0","3","2","1","1","0","4","1","3","1","1","2","4","2","1","2","2","3","2","1","1","2","1","2","1","3","1","2","1","2","2","0","1","1","0","1","1","1","0","1","0","3","0","1","1","1","1","0","0","3","3","3","4","3","0","2","1","2","1","2","0","2","3","1","1","1","1","5","1","2","3","1","1","2","1","0","1","1","2","2","1","1","0","1","2","1","0","2","1","1","2","0","0","0","1","2","1","0","1","1","0","3","2","1","2","4","3","2","1","1","3","1","1","1","0","1","0","2","1","2","0","1","2","2","0","1","0","0","2","0","1","0","2","1","1","0","1","1",null,null,null,null,null],[5851,3164,12337,7688,6984,4259,3114,4563,4438,7348,7001,6655,1846,9750,3059,4610,2881,3865,4472,2952,4729,4729,5314,14077,3671,4742,6334,2787,5757,11320,3021,15976,3001,4154,1343,3875,444,2248,4148,257,750,2300,1003,2578,1057,1666,2167,919,2019,4604,null,763,2788,3093,3415,null,2892,768,1438,2108,449,1376,1049,1064,2265,1317,2194,1007,2212,723,1896,1269,2474,490,2126,1874,1108,3208,1080,2310,2076,1278,1195,652,852,1902,2357,1256,403,2104,1720,1516,1924,825,692,1932,3045,1102,2268,1196,648,1790,685,2256,2422,1376,921,1677,5041,718,2011,1616,850,1543,1918,3408,809,2296,2353,2277,718,2506,4456,904,2225,933,2295,2047,2716,4206,2526,905,2062,965,906,4246,777,937,2719,715,3390,2832,3683,985,2890,385,4718,1939,1939,1960,1946,661,2157,677,2740,2348,1166,2088,2234,925,2947,2297,558,1969,1183,1984,1487,2440,1067,2172,3270,2472,377,2136,1008,873,2494,769,4504,4175,3412,7214,988,null,4771,5067,7889,9047,2654,5166,8212,9625,9195,4532,6892,16607,4221,6785,7563,14227,3478,7796,4546,3112,3834,5618,3167,7736,4079,4593,6803,8903,6434,8357,4701,4728,9853,3073,1384,6062,4436,567,3142,2347,773,2848,1234,2830,948,2731,829,4248,2803,1306,2398,2185,3294,2103,3090,814,3373,8747,1779,3004,1130,5004,3082,571,571,361,4037,7232,6318,3557,3305,7747,5347,4345,3254,5807,5137,13141,5691,3495,7068,3803,7785,3271,8360,3162,1740,3167,4869,5629,7502,4722,4437,4672,4655,6345,4304,10116,1754,4154,2580,8156,2929,4488,4065,2660,6043,3096,15778,5303,3126,4137,4322,3310,1808,4311,4857,1740,7368,1044,2710,7909,3112,4429,2882,5501,5749,4121,4260,3928,4067,15734,3020,1441,8619,17462,1625,2643,892,1016,2227,1226,2789,2301,1087,2283,2504,2423,3053,3380,2427,725,1393,2188,728,1573,442,1645,2353,2417,884,2332,798,566,3353,1376,3651,1231,4011,4011,2603,1039,2036,2094,3022,2154,1249,2068,2092,787,745,2736,4035,976,599,2118,433,2383,715,2191,2477,896,2195,1762,2631,859,2853,2853,861,2522,2907,9117,1054,4016,2379,1026,3007,2289,2645,2567,3004,1193,2067,2080,645,2480,2281,675,687,2345,835,4084,2468,null,null,null,350,400,422,250,350,475,400,499,400,450,400,1500,1416,400,460,400,400,400,500,500,300,350,300,496,492,400,400,null,null,null,null,null,null,null,null,null,null,2171,2568,450,3306,1325,609,3024,2000,9578,4038,3708,5085,5422,3517,6014,4675,3963,15197,5286,7322,7724,3899,5873,4031,3673,7025,10262,4227,12487,3093,4188,6783,3857,3857,2193,4298,3649,6786,4691,2869,4681,10036,6064,2507,5806,5456,3491,12437,4067,8632,10284,4175,4909,6521,6062,7399,21020,7218,4124,5923,5934,32678,17803,7533,7533,26947,5966,6542,15620,8738,9342,9523,9078,4143,4485,10105,6141,6010,5583,23245,8663,6125,7244,21851,5354,6516,5650,8856,6661,10468,null,null,null,null,null],["Ons","Søn","Lør","Søn","Man","Søn","Søn","Lør","Søn","Man","Søn","Lør","Søn","Søn","Man","Man","Søn","Lør","Søn","Tor","Søn","Søn","Man","Man","Man","Søn","Ons","Søn","Søn","Ons","Man","Tor","Søn","Lør","Søn","Lør","Ons","Søn","Lør","Ons","Søn","Søn","Søn","Søn","Lør","Lør","Søn","Lør","Søn","Lør","Søn","Søn","Tor","Man","Søn","Tir","Lør","Lør","Lør","Ons","Tor","Man","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Lør","Søn","Søn","Lør","Tor","Søn","Lør","Fre","Søn","Ons","Tor","Man","Fre","Søn","Ons","Søn","Lør","Lør","Søn","Fre","Ons","Søn","Ons","Søn","Søn","Søn","Fre","Søn","Fre","Fre","Søn","Søn","Lør","Søn","Fre","Fre","Søn","Fre","Søn","Søn","Søn","Søn","Søn","Søn","Ons","Lør","Tor","Man","Lør","Fre","Lør","Tor","Tir","Søn","Fre","Fre","Søn","Søn","Fre","Fre","Søn","Lør","Fre","Søn","Fre","Fre","Søn","Søn","Tor","Man","Fre","Fre","Fre","Lør","Fre","Søn","Ons","Søn","Søn","Fre","Søn","Lør","Fre","Ons","Søn","Søn","Søn","Søn","Søn","Søn","Fre","Fre","Søn","Fre","Søn","Lør","Fre","Søn","Søn","Fre","Søn","Man","Tor","Søn","Fre","Fre","Ons","Søn","Tor","Søn","Ons","Søn","Fre","Man","Lør","Fre","Søn","Fre","Søn","Søn","Søn","Søn","Lør","Fre","Søn","Søn","Fre","Søn","Fre","Søn","Lør","Man","Søn","Fre","Søn","Søn","Fre","Søn","Søn","Søn","Ons","Man","Søn","Søn","Tor","Søn","Søn","Søn","Søn","Søn","Søn","Lør","Søn","Søn","Fre","Søn","Fre","Man","Søn","Fre","Fre","Søn","Man","Lør","Søn","Tor","Fre","Fre","Tor","Man","Tor","Søn","Lør","Tor","Fre","Ons","Ons","Søn","Søn","Lør","Lør","Lør","Man","Fre","Lør","Søn","Søn","Lør","Lør","Lør","Fre","Søn","Søn","Lør","Lør","Søn","Søn","Fre","Man","Søn","Lør","Lør","Søn","Man","Fre","Søn","Søn","Fre","Søn","Ons","Man","Man","Tor","Søn","Fre","Fre","Fre","Lør","Fre","Søn","Søn","Lør","Søn","Tor","Søn","Søn","Fre","Fre","Fre","Søn","Søn","Lør","Tir","Lør","Man","Søn","Man","Fre","Lør","Søn","Søn","Lør","Man","Fre","Søn","Søn","Fre","Tir","Man","Søn","Søn","Søn","Søn","Søn","Ons","Man","Søn","Ons","Søn","Søn","Søn","Søn","Søn","Ons","Søn","Man","Søn","Søn","Søn","Søn","Søn","Søn","Tor","Man","Ons","Søn","Fre","Tir","Lør","Lør","Lør","Ons","Søn","Søn","Søn","Søn","Søn","Søn","Ons","Søn","Lør","Søn","Søn","Søn","Søn","Fre","Søn","Tor","Søn","Søn","Man","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Lør","Søn","Tor","Tir","Søn","Lør","Fre","Lør","Søn","Fre","Ons","Søn","Tor","Lør","Tor","Lør","Søn","Fre","Tor","Søn","Lør","Fre","Lør","Tor","Fre","Lør","Fre","Fre","Tor","Søn","Fre","Ons","Lør","Tir","Man","Fre","Tir","Søn","Lør","Tor","Ons","Lør","Søn","Ons","Lør","Fre","Tor","Søn","Fre","Fre","Fre","Tor","Lør","Fre","Fre","Fre","Søn","Fre","Fre","Lør","Fre","Søn","Søn","Lør","Fre","Fre","Fre","Fre","Ons","Lør","Fre","Ons","Søn","Søn","Lør","Fre","Fre","Søn","Søn","Søn","Søn","Søn","Søn","Fre","Man","Søn","Fre","Fre","Søn","Man","Søn","Fre","Søn","Søn","Fre","Man","Tor","Søn","Søn","Søn","Fre","Man","Tor","Søn","Lør","Søn","Søn","Søn","Lør","Søn","Søn","Søn","Søn","Man","Søn","Søn","Fre","Søn","Man","Søn","Søn","Søn","Man","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Man","Søn","Man","Søn","Man","Fre","Man","Man","Man","Fre","Søn","Fre","Søn","Søn","Søn","Søn","Søn","Søn","Søn","Lør","Man","Fre","Søn","Søn","Søn","Søn"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,1,2,1,1,1,1,1,2,2,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,2,2,2,2,2,2,1,1,2,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,2,2,1,1,2,2,2,2,2,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0],[1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[2,2,2,2,0,2,2,1,2,2,2,0,2,2,2,1,2,2,2,2,2,2,0,2,2,0,2,2,1,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,0,2,2,0,2,2,2,2,2,2,2,0,2,2,2,1,2,2,2,2,0,2,2,1,2,1,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,0,2,2,2,2,1,2,0,2,2,2,2,1,2,2,2,2,2,2,0,2,0,2,1,2,1,2,2,2,2,2,2,2,1,2,0,2,2,2,2,0,2,1,2,0,2,2,2,2,2,2,1,2,2,1,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,0,2,1,1,2,1,2,2,2,1,2,0,2,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,2,0,2,1,2,2,2,2,0,2,2,2,2,2,1,2,0,2,1,2,2,2,1,1,2,2,1,2,2,0,0,2,2,2,2,2,2,2,2,0,2,1,2,2,2,1,2,0,2,2,2,1,0,2],[0,2,1,2,0,2,2,1,2,0,2,1,2,2,0,0,2,1,2,0,2,2,0,0,0,2,0,2,2,0,0,0,2,1,2,1,0,2,1,0,2,2,2,2,1,1,2,1,2,1,2,2,0,0,2,0,1,1,1,0,0,0,2,2,2,2,2,2,2,2,1,2,2,1,0,2,1,0,2,0,0,0,0,2,0,2,1,1,2,0,0,2,0,2,2,2,0,2,0,0,2,2,1,2,0,0,2,0,2,2,2,2,2,2,0,1,0,0,1,0,1,0,0,2,0,0,2,2,0,0,2,1,0,2,0,0,2,2,0,0,0,0,0,1,0,2,0,2,2,0,2,1,0,0,2,2,2,2,2,2,0,0,2,0,2,1,0,2,2,0,2,0,0,2,0,0,0,2,0,2,0,2,0,0,1,0,2,0,2,2,2,2,1,0,2,2,0,2,0,2,1,0,2,0,2,2,0,2,2,2,0,0,2,2,0,2,2,2,2,2,2,1,2,2,0,2,0,0,2,0,0,2,0,1,2,0,0,0,0,0,0,2,1,0,0,0,0,2,2,1,1,1,0,0,1,2,2,1,1,1,0,2,2,1,1,2,2,0,0,2,1,1,2,0,0,2,2,0,2,0,0,0,0,2,0,0,0,1,0,2,2,1,2,0,2,2,0,0,0,2,2,1,0,1,0,2,0,0,1,2,2,1,0,0,2,2,0,0,0,2,2,2,2,2,0,0,2,0,2,2,2,2,2,0,2,0,2,2,2,2,2,2,0,0,0,2,0,0,1,1,1,0,2,2,2,2,2,2,0,2,1,2,2,2,2,0,2,0,2,2,0,2,2,2,2,2,2,2,2,2,2,2,1,2,0,0,2,1,0,1,2,0,0,2,0,1,0,1,2,0,0,2,1,0,1,0,0,1,0,0,0,2,0,0,1,0,0,0,0,2,1,0,0,1,2,0,1,0,0,2,0,0,0,0,1,0,0,0,2,0,0,1,0,2,2,1,0,0,0,0,0,1,0,0,2,2,1,0,0,2,2,2,2,2,2,0,0,2,0,0,2,0,2,0,2,2,0,0,0,2,2,2,0,0,0,2,1,2,2,2,1,2,2,2,2,0,2,2,0,2,0,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,0,2,0,2,0,0,0,0,0,0,2,0,2,2,2,2,2,2,2,1,0,0,2,2,2,2],[1,0,1,1,2,1,1,1,1,2,0,1,1,0,2,2,1,1,1,1,1,1,2,2,2,1,1,1,1,2,1,2,1,1,1,1,2,1,2,2,1,1,1,1,2,2,1,2,1,0,1,1,1,0,1,2,2,0,0,2,2,1,1,1,0,0,1,1,1,1,0,0,0,1,2,0,0,2,1,2,0,1,2,0,2,1,1,0,1,1,2,1,2,1,1,1,2,1,2,2,1,1,1,1,1,1,1,2,0,1,1,1,1,1,2,0,0,1,1,2,1,2,2,0,1,2,1,0,2,1,1,1,2,1,2,2,0,0,1,1,2,2,2,1,2,0,2,1,1,2,0,1,2,2,1,2,0,2,1,1,2,2,1,2,1,2,2,1,1,2,1,1,1,0,2,2,2,1,2,1,2,1,2,0,1,2,0,2,1,1,1,0,1,2,1,1,2,0,2,1,1,2,0,2,0,0,2,1,0,0,2,1,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,1,2,2,1,2,1,1,2,2,2,1,0,2,1,0,1,2,2,2,1,1,1,1,1,2,1,1,1,0,1,1,1,2,1,1,1,2,0,1,1,2,0,1,1,0,2,1,0,1,1,0,1,0,2,2,1,1,2,1,1,1,0,2,0,1,2,0,1,1,2,2,1,0,1,2,1,2,1,2,1,1,1,1,1,0,1,0,1,1,2,2,1,0,0,0,0,1,2,0,2,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,1,0,1,2,1,1,1,2,0,0,0,0,0,0,2,0,0,0,0,0,0,1,0,2,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,1,0,1,2,2,1,1,1,2,0,0,1,1,0,1,1,1,2,1,0,1,1,1,1,2,1,0,2,2,2,2,0,1,2,2,0,0,1,1,1,1,0,1,1,1,2,0,1,2,2,1,1,2,0,2,0,0,0,1,2,1,2,2,1,2,2,0,1,1,2,2,1,0,0,0,0,2,2,2,1,2,2,0,2,1,1,0,0,2,2,0,1,1,0,2,2,1,2,1,0,0,1,1,0,1,0,0,2,1,0,2,0,2,1,0,1,2,0,0,0,1,1,1,1,1,0,0,1,2,1,1,1,2,2,2,2,2,2,1,2,0,1,1,1,0,0,2,2,2,2,0,0,1,1],[1,1,1,0,1,0,0,1,0,1,1,1,0,1,1,1,0,1,0,0,0,0,1,1,1,1,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,0,0,1,1,0,0,1,0,1,0,1,1,0,1,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,1,1,0,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,0,0,1,1,1,1,0,1,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,1,0,1,1,1,1,1,1,0,0,0,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,1,1,0,1,1,1,0,1,0,0,1,0,1,0,1,1,1,0,1,1,0,0,0,1,0,0,1,0,1,1,1,1,0,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,0,1,1,1,0,1,0,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1,1,1,0,1,1,0,0,0,1,1,0,0,1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1,0,1,1,1,0,1,0],[20.3,18,18.7,25.6,18.3,21.1,16.5,15.9,17,19.7,13.4,13.7,10,9.199999999999999,9.199999999999999,5.4,6,7.2,5,4.5,-1.1,-1.1,8.6,6.7,8.5,13.9,13.4,18.4,16.3,19,18.9,16.7,11.6,18.3,17.7,19.5,16.4,22.1,14.4,13.8,15.2,11.5,14.2,11.7,11.8,6.5,7.4,10.7,3.3,5.2,6.4,10.8,14.6,14.7,14.6,14.5,19.6,14.7,8.6,17,13.3,25.5,16.5,17.6,19.5,18.9,19.8,13.8,17.7,17.1,20.6,15.8,9.300000000000001,9.199999999999999,8.800000000000001,13.2,6.9,6.9,11.1,11.6,5,6.9,9.5,8.9,4.4,15.2,9.199999999999999,7.4,9.300000000000001,22.6,15.4,13.2,15.3,16,22.1,24.3,17,14.6,15,14.3,13.4,11.6,12.1,9.9,10.3,8.9,11.4,8.5,6.5,4.6,4.8,5.9,8.6,17.5,7.8,11.7,21.3,21.3,17.9,18,10.9,14.9,12,11.5,19.4,15.9,16.4,22.4,17.8,13,19,23.2,12.6,13.5,9.300000000000001,13.4,10.5,2,8.300000000000001,8.199999999999999,8,9.1,12.6,8.6,12.1,21.1,24.1,24.4,24.4,11.8,13.3,15.9,21.9,17.2,21.2,25.7,19,17,19.9,17.8,9.800000000000001,14.6,10.4,10.5,11.6,6,7.2,10,7.6,6.9,2.1,7,6.5,4.6,4.3,9.199999999999999,13,9.800000000000001,11.2,15.9,14.4,11.1,20.2,18.9,27.1,27.8,23.2,20.9,17.8,21.3,14.4,13.4,15.8,14.4,16,13.9,12.3,8.800000000000001,10.8,4.8,6.4,9.1,8.1,5.9,13.8,10.4,8.4,11.9,13.3,8.4,11.9,16,19.9,10.9,13.6,11.4,20.6,null,null,23.1,null,null,null,16.8,19.9,17.1,17.2,15.6,14.5,12.7,12.9,15.5,9.5,9.5,7.3,10.5,7.2,7,6.9,10.7,12.4,13.9,12.2,11.5,12.3,10.5,12.7,14.6,14.6,11.2,16.7,19.4,16.7,14.4,18.6,21.7,24.4,21.2,17.3,15.7,14.9,16.7,11.6,null,11.8,13.1,1.7,9.6,6.9,5.9,3,1.8,10.5,14.7,7.7,8.6,7.1,5.4,24.1,24.1,13.6,13.8,18.3,21,16.3,26.2,20.1,16.5,17.1,20.1,19.5,24.3,18,19.7,23.1,13.1,11.2,9.1,11.3,3.4,5.3,9.800000000000001,5.8,3.6,2.9,7.6,7.7,6.1,11.4,2.8,12.2,10.6,3.1,8.699999999999999,11.6,17,14.2,13.8,16.6,21.4,21.4,15.6,16.6,17.1,21.1,20.6,15.8,12.6,15.8,17.2,16.6,16.2,13.1,12.2,10.7,9.1,7.3,5.4,6.8,-1.3,2.7,1.5,3,7.4,9.800000000000001,10.5,25.5,8.9,11.1,17.2,18.1,20,21.7,21.7,24.9,19.6,14.7,19.9,24.9,17.6,19.1,19.5,17.9,12.9,13.1,16.9,15.6,10.9,3.8,10,10.8,6.9,2.8,9.300000000000001,6.3,7.1,8.5,6.6,16.6,9.1,19.6,19.6,16.3,9.6,12.8,15.4,20.3,13.3,30.3,22,20.1,17.2,18.9,28.2,18.4,17.1,15.1,12.8,9.9,12.9,13.1,12,8.4,7.9,7.7,8.5,7,2.7,17.8,14.5,21.7,22.8,18.1,null,27,15.4,12.1,15.2,15.2,18.8,19.1,14.9,15.2,15.8,18.2,15.6,16,11.8,13.4,11.8,11.2,13.6,5.9,8.5,5.2,1.9,8,-4.6,10.7,7.4,4.5,3.2,3.6,6.9,6.9,6.4,9.6,8.800000000000001,6.4,7.4,12.1,9.800000000000001,12.6,9,18,23.5,16.9,21,20.9,20,18.6,19,12.4,18.5,13.3,12,11.3,11.9,10.2,12.4,2.5,7.1,6.6,5.8,10.1,6.5,4.7,7.6,7.4,14.2,14.2,11.5,12.3,18.6,14.1,15.2,14.1,18.6,20.5,20.9,16.7,28.2,19,20.5,20.4,18.1,11.9,14.5,15.6,13.9,15.4,14.6,12.6,11.5,7.1,4.8,2.9,3.2,10.3,7.6,14.5,14.5,11.6,12.6,9,14.2,18.2,21.2,14.8,15.7,19,21.2,15.6,21.6,21.2,19.6,19.5,18.9,17.2,15.1,11.9,11.7,10.2,9.6,7.7,3.5,-0.8,null,null,null,null,null],[9.300000000000001,1,9.800000000000001,5.1,5.1,4.1,10.3,5.1,8.800000000000001,5.7,5.1,0.5,1.5,7.2,4.6,6.2,11.8,9.300000000000001,2.1,4.1,7.2,7.2,1,2.6,3.1,4.1,5.1,5.7,1.5,2.1,5.1,3.6,3.6,3.6,7.2,0.5,7.2,5.7,5.7,3.1,1.5,9.300000000000001,7.2,4.1,8.800000000000001,2.6,5.7,10.8,0,7.2,2.6,7.2,6.2,3.1,1.5,5.7,3.1,7.7,4.6,7.2,13.9,3.1,6.2,6.7,1.5,9.800000000000001,3.6,4.1,8.199999999999999,7.2,4.6,6.7,14.4,6.2,7.2,6.7,5.1,1,4.6,5.7,5.7,5.7,7.2,6.7,3.6,4.6,6.2,5.1,4.6,2.1,6.2,8.199999999999999,5.1,5.7,3.1,6.7,3.1,0.5,2.6,2.1,6.2,6.7,9.300000000000001,1,2.1,4.6,2.6,7.7,2.6,5.7,3.6,5.7,4.6,0.5,6.7,6.7,4.1,1.5,4.6,2.6,3.6,7.7,9.300000000000001,5.1,4.6,5.7,8.199999999999999,4.1,4.1,3.6,4.1,1.5,10.3,3.6,3.1,4.6,3.6,0,6.2,5.1,1.5,7.7,9.300000000000001,9.800000000000001,7.7,5.7,6.2,2.1,2.1,11.8,5.7,5.7,3.6,9.300000000000001,1.5,4.1,3.6,4.6,4.6,5.1,3.1,4.6,8.199999999999999,6.7,1,4.6,5.7,6.2,2.6,5.7,7.7,2.6,6.2,7.2,1,12.9,7.7,7.2,3.6,5.1,4.1,4.6,7.7,2.6,5.1,2.6,4.1,5.7,6.7,4.6,5.7,6.2,5.7,3.1,5.7,3.1,4.1,10.3,4.1,4.1,2.6,3.1,6.7,2.1,7.2,11.8,6.2,1,5.1,9.800000000000001,3.6,7.7,5.7,5.7,5.7,5.1,2.6,null,null,6.2,null,null,null,2.6,2.6,6.7,8.199999999999999,8.199999999999999,6.7,2.6,5.7,7.7,4.1,8.199999999999999,4.6,1.5,5.1,0.5,8.199999999999999,2.6,5.1,5.1,5.7,4.1,5.7,10.3,4.6,6.2,6.2,8.800000000000001,7.7,9.800000000000001,5.1,9.800000000000001,5.1,2.1,7.7,6.2,6.7,5.7,5.7,0.5,3.6,null,4.1,4.6,7.2,6.7,2.1,1,6.2,0.5,7.2,3.6,8.199999999999999,8.800000000000001,5.1,6.2,6.7,6.2,8.199999999999999,1.5,4.6,4.6,7.7,2.6,2.1,6.2,4.1,4.6,3.6,4.6,3.1,4.6,5.7,3.1,6.7,5.7,9.800000000000001,10.3,6.2,9.300000000000001,4.1,2.6,1.5,5.1,4.6,7.7,2.1,5.1,3.1,7.2,1.5,8.800000000000001,5.7,4.6,9.300000000000001,4.6,3.6,9.300000000000001,4.1,7.2,7.2,4.6,1.5,3.6,6.2,5.7,3.1,3.1,3.1,4.6,3.1,6.2,7.7,5.1,3.1,6.2,4.6,7.2,5.1,7.7,8.199999999999999,5.1,7.7,1.5,5.7,9.800000000000001,3.1,3.6,2.1,6.2,1,1,2.6,7.7,2.1,4.6,6.2,6.2,1.5,5.1,5.1,8.199999999999999,4.1,5.7,5.7,9.800000000000001,4.1,3.1,2.6,4.1,4.1,9.800000000000001,5.7,11.3,8.199999999999999,8.800000000000001,3.1,6.7,1,1,2.6,8.800000000000001,3.1,2.1,5.1,7.7,5.7,2.6,11.3,5.1,6.2,3.1,4.1,9.300000000000001,1.5,3.6,4.1,3.6,5.1,6.7,5.1,0,7.2,3.1,8.199999999999999,2.1,2.1,6.2,6.7,7.2,6.2,null,4.6,9.800000000000001,11.8,6.7,3.6,2.1,3.1,7.2,8.800000000000001,0.5,7.2,4.6,7.7,3.6,8.800000000000001,4.6,3.1,4.6,4.6,5.7,3.6,6.2,5.1,1.5,3.6,8.199999999999999,3.1,7.7,5.1,8.199999999999999,8.199999999999999,6.2,6.2,8.199999999999999,2.6,2.6,3.6,6.2,2.6,6.2,10.3,8.800000000000001,2.6,5.7,5.7,3.6,5.1,8.199999999999999,4.6,4.1,2.6,9.800000000000001,4.6,3.1,7.2,9.800000000000001,1,7.7,3.6,5.1,6.7,7.7,6.2,6.7,2.6,2.1,2.1,8.800000000000001,5.7,4.6,8.199999999999999,3.6,4.6,7.7,6.2,3.6,7.2,5.7,4.1,2.1,6.2,5.7,3.6,8.800000000000001,10.3,10.3,5.1,3.6,3.6,3.1,11.3,6.7,3.1,5.1,4.1,6.7,3.6,3.6,3.6,5.1,5.1,7.2,6.2,4.6,6.2,2.1,6.7,1.5,10.8,3.6,5.1,4.6,5.7,4.6,5.7,2.1,1.5,3.1,2.6,2.6,0.5,4.1,4.1,null,null,null,null,null],[61,76,53,51,75,51,57,68,71,68,84,68,62,92,76,69,67,87,79,63,81,81,85,53,59,39,29,50,34,45,47,64,42,43,91,47,92,40,56,57,62,59,57,66,64,69,91,77,58,null,80,54,53,null,37,57,47,50,91,57,62,24,31,55,null,62,54,88,73,59,54,77,75,60,81,82,66,98,75,null,88,77,69,60,86,39,80,70,97,41,84,62,57,57,56,63,92,61,71,95,68,97,76,98,78,55,78,78,94,100,86,44,81,39,71,67,40,29,36,31,82,53,63,82,62,79,68,76,60,66,60,55,68,52,90,83,90,98,40,92,71,68,71,48,85,61,59,50,50,49,95,96,65,65,55,56,75,92,71,77,98,74,87,72,94,78,86,78,87,85,49,31,41,81,90,59,61,51,36,null,93,74,70,79,41,44,53,57,93,53,84,84,71,63,75,96,80,76,82,55,88,100,79,93,57,76,67,81,85,81,41,59,54,51,76,89,56,null,null,53,null,null,null,93,65,69,87,67,75,100,98,79,98,88,94,58,77,71,56,36,56,48,93,54,49,90,67,60,60,65,55,51,71,68,68,75,39,58,79,70,76,74,83,null,79,71,78,97,86,59,96,85,47,82,69,73,56,92,35,36,58,90,56,63,76,55,71,73,96,67,98,60,64,53,46,93,71,91,73,93,86,93,89,80,89,97,97,95,54,92,77,72,92,95,53,64,62,96,54,58,86,82,67,79,52,62,83,94,68,86,73,90,76,91,52,67,82,63,87,61,96,49,61,37,61,83,44,86,68,50,48,57,41,41,45,69,79,82,61,54,67,73,78,67,87,82,79,78,76,81,92,91,92,68,62,72,67,49,59,47,27,27,60,54,85,38,66,71,43,61,63,69,54,44,90,57,58,91,56,85,93,73,96,93,86,89,73,97,46,47,43,49,94,null,51,84,91,55,96,91,65,59,69,83,81,76,75,73,88,91,98,78,70,84,91,91,88,75,71,79,47,93,54,84,84,56,38,60,83,78,90,73,78,91,52,64,89,62,74,54,74,63,59,68,94,58,90,83,84,84,93,75,51,63,30,58,38,42,94,34,34,48,44,30,48,52,67,64,68,64,66,35,79,73,46,69,73,68,71,70,83,95,84,77,86,52,39,61,91,32,44,44,65,58,50,47,65,48,38,63,73,45,78,59,63,75,70,51,65,84,39,88,98,94,92,72,90,null,null,null,null,null],[30000,20000,30000,25000,12000,30000,25000,20000,10000,25000,20000,30000,20000,1600,20000,25000,10000,8000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,8000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,2800,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,3000,25000,10000,25000,25000,12000,15000,20000,25000,25000,6000,30000,10000,25000,30000,25000,25000,30000,20000,30000,20000,20000,25000,5000,12000,8000,20000,25000,25000,30000,15000,4000,15000,20000,12000,30000,30000,20000,20000,30000,30000,25000,10000,30000,12000,25000,20000,20000,25000,20000,30000,40000,25000,25000,10000,20000,9000,12000,3200,100,25000,5000,25000,25000,25000,25000,10000,20000,20000,25000,25000,25000,10000,8000,25000,25000,20000,30000,20000,5000,30000,15000,8000,25000,15000,30000,10000,20000,25000,20000,15000,9000,30000,30000,30000,30000,15000,20000,20000,25000,25000,20000,4000,30000,15000,15000,30000,20000,25000,30000,4500,30000,15000,20000,20000,25000,30000,12000,20000,3000,25000,25000,30000,1200,30000,8000,10000,30000,35000,7000,13000,30000,35000,35000,35000,35000,35000,11000,35000,null,null,35000,null,null,null,35000,35000,35000,21000,26000,35000,2800,5000,28000,6000,12000,7000,35000,20000,30000,35000,35000,30000,35000,6000,35000,35000,17000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,30000,35000,35000,35000,19000,null,7000,35000,35000,2500,20000,35000,5000,12000,35000,10000,35000,30000,35000,11000,35000,35000,35000,35000,35000,35000,35000,35000,35000,35000,3500,35000,26000,35000,35000,35000,35000,35000,35000,24000,30000,14000,35000,35000,35000,35000,35000,12000,20000,15000,30000,25000,28000,35000,24000,19000,35000,35000,35000,7000,35000,35000,35000,35000,35000,35000,35000,35000,18000,35000,35000,35000,35000,17000,30000,35000,35000,35000,35000,35000,17000,22000,11000,35000,35000,35000,35000,6000,24000,21000,35000,35000,35000,35000,35000,35000,35000,35000,35000,25000,35000,35000,35000,35000,35000,35000,35000,24000,29000,27000,35000,26000,12000,11000,35000,20000,35000,30000,35000,null,17000,55000,45000,45000,40000,45000,35000,60000,45000,50000,60000,60000,30000,35000,40000,50000,60000,45000,60000,45000,75000,30000,4600,30000,16000,14000,8000,20000,40000,1500,45000,65000,55000,45000,8000,null,50000,16000,5000,55000,4500,16000,65000,60000,28000,35000,26000,40000,40000,75000,35000,40000,2500,30000,50000,40000,7000,10000,21000,55000,30000,22000,55000,6000,60000,22000,22000,55000,65000,40000,16000,19000,40000,65000,29000,50000,30000,35000,28000,50000,55000,45000,35000,55000,65000,40000,27000,30000,11000,35000,50000,17000,40000,35000,55000,55000,35000,29000,65000,65000,4400,50000,50000,55000,75000,55000,60000,55000,55000,50000,35000,50000,50000,55000,35000,60000,65000,55000,75000,40000,30000,24000,40000,4100,35000,18000,24000,50000,50000,75000,5000,75000,60000,60000,25000,25000,75000,60000,30000,50000,50000,40000,50000,75000,18000,75000,75000,55000,55000,45000,75000,40000,75000,22000,9000,22000,15000,45000,16000,null,null,null,null,null],[0,0,0,0,0.2,0,0,0,0,0,0,0,0,0.2,0,0,0,0.2,0,0,0,0,0.2,0,0,0,0,0,0,0,0,0,0,0,0.2,0,0.4,0,0,0,0,0,0,0,0,0,1.4,0.2,0,0,0,0,0,null,0,0,0,0,0.8,0,0,0,0,0,0,0,0,0.4,0.2,0,0,0,0.6,0,0,0,0,0,0,null,0.4,0,0,0,0.4,0,0,0,0,0,0,0,0,0,0,0,0.8,0,0,0,0,0.2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.4,0,0,0,0,0,0,0,0,4.6,0,0.6,0,0,0,0,0,0,0,0,0,0,0.2,0,0,0,0,0,null,0,0,0,0,0,0,0,0,0.6,0,0,0,0,0,0,0.2,0,0.8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.1,0,null,null,0,null,null,null,0.4,0,0,0,0,0,0,0,0,0.2,0,0,0,0,0,0,0,0,0,0.7,0,0,0.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,0,0,0,0.1,0,0,0,0,0,0,0,0,0,1.6,0,0,0,0,0,0,0,0,0,0,0.2,0,0.8,0,0,0,0,0.3,0,0.1,0,0.1,0,0,0.2,0,0,0,1.1,0.1,0,0.7,0,0,1.1,0,0,0,0,0,0,0,0,0.2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,0,0,0,0,0,0,0,0.7,0,0,0,0,0,0,0.1,0,0,0,0.1,0,0,0,0,0,0,0,0,3.3,0,0,0,0,0,0,0,0,0,0.6,0,0,0.8,0,0,0,0,0.3,0,0,0,0,0,0,0,0,0,2.7,null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2,0,0.3,0,0,0,0,0,0,0,0,0,0,1.2,0,0,0,0,0,0,0.5,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0.2,0,0.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.1,0,0,0,0,0.6,0,0,0,0,0,0,0,0,0,0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.6,0,0,0,0,null,null,null,null,null],[60,77,60,52,74,51,61,72,71,67,85,72,65,91,76,68,71,84,81,60,81,81,86,55,61,39,31,51,31,50,48,63,43,46,92,51,92,39,56,55,62,63,61,65,64,72,91,86,58,97,72,59,57,null,38,58,48,51,91,56,61,23,31,58,null,62,52,80,75,60,55,75,74,62,83,83,66,99,75,null,89,78,74,63,77,36,77,69,97,42,86,62,57,59,58,64,84,64,73,94,67,97,77,99,79,54,82,79,95,100,92,42,87,38,73,73,40,30,35,35,87,55,58,82,64,83,67,71,65,66,60,56,76,54,86,92,92,98,40,91,72,65,70,47,86,60,61,52,52,52,95,96,65,63,54,57,74,93,73,77,98,69,87,74,94,76,89,80,88,84,50,31,41,85,91,63,59,53,38,null,93,76,72,77,42,45,51,57,96,56,80,79,70,67,77,97,78,69,84,57,86,100,80,93,57,71,68,89,85,75,43,58,51,52,85,88,57,null,null,54,null,null,null,91,67,68,87,67,77,100,98,78,98,88,94,58,80,75,57,37,54,49,92,53,49,92,66,61,61,67,60,52,82,70,69,77,43,55,85,71,78,76,86,null,80,75,79,97,86,63,97,85,50,85,66,71,67,90,33,37,58,91,61,65,77,56,72,75,96,64,98,64,64,54,51,94,72,93,73,93,88,96,88,80,87,97,97,95,55,90,76,74,86,95,53,63,62,96,54,56,90,72,68,85,52,64,71,94,72,85,71,91,76,91,48,67,82,64,90,62,96,50,61,39,62,83,44,88,65,49,53,50,42,42,49,68,81,78,60,55,69,72,83,67,88,83,80,81,74,82,93,94,91,70,70,72,59,44,60,48,29,29,63,48,83,38,68,67,45,63,66,71,51,46,94,58,58,89,57,84,93,75,96,94,88,91,74,97,47,57,44,46,92,null,50,85,84,57,95,94,64,60,72,89,83,75,77,74,87,93,98,79,73,84,90,91,89,78,72,80,52,90,58,86,86,45,36,60,80,82,91,72,70,91,50,67,89,66,73,56,77,66,58,69,94,61,90,88,77,83,93,75,57,66,32,67,37,48,94,35,35,50,47,31,50,55,72,60,67,68,75,37,82,79,49,69,76,65,76,73,84,95,84,80,89,53,41,60,91,32,45,45,65,58,52,48,63,48,40,65,76,48,82,59,60,76,70,52,66,84,42,88,97,96,96,70,91,null,null,null,null,null],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,null,null,0,null,null,null,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,null,null,null,null],[90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,90518,92084,92084,92084,92084,92084,92266,92266,92266,92266,92266,92266,92266,92266,92266,92266,92266,92433,92433,92433,92433,92433,92433,92433,92628,92628,92628,92628,92628,92628,92628,92628,92823,92823,93077,93077,93077,93077,93077,93077,93077,93077,93077,93077,93077,93077,93077,93173,93173,93173,93173,93173,93173,93173,93173,93290,93290,93290,93290,93290,93290,93290,93310,93474,93474,93474,93474,93474,93474,93474,93474,93474,93474,93474,93474,93474,93474,93594,93594,93594,93594,93594,93594,93594,93594,93636,93636,93636,93636,93636,93636,93636,93636,93498,93498,93650,93650,93650,93650,93650,93650,93650,93650,93650,93650,93650,93650,93745,93745,93745,93745,93745,93745,93745,93794,93794,93794,93794,93794,93794,93794,93984,93984,93984,93984,93984,93984,93984,93984,93984,93984,93984,93984,93984,94100,94100,94100,94100,94100,94100,94100,94100,94100,94100,94100,94173,94173,94173,94173,94173,94173,94173,94173,94333,94461,94461,94461,94461,94461,94461,94461,94461,94461,94461,94461,94461,94461,94596,94596,94596,94596,94596,94596,94596,94596,94596,94596,94423,94423,94423,94423,94423,94423,94423,94423,94486,94486,94486,94486,94486,94486,94622,94622,94622,94622,94622,94622,94622,94622,94622,null,null,94788,null,null,null,94788,94788,94788,94788,94994,94994,94994,94994,94994,94994,94994,94994,94985,94985,94985,95247,95247,95247,95247,95247,95247,95247,95247,95247,95247,95247,95247,95247,95567,95567,95567,95567,95567,95567,95567,95567,95567,95567,95710,95710,null,95710,95710,95710,95710,95710,95776,95776,95776,95776,96101,96101,96101,96101,96101,96101,96101,96101,96101,96101,96101,96166,96166,96166,96166,96166,96166,96166,96166,96166,96166,96166,96272,96272,96272,96272,96272,96272,96272,96272,96272,96272,96477,96477,96477,96477,96477,96682,96682,96682,96682,96682,96682,96682,96682,96682,96682,96884,96884,96884,96884,96884,96884,96884,96884,96884,96884,96880,96880,96880,96880,96880,96880,96880,96880,96880,96883,96883,96883,96883,97118,97118,97118,97118,97118,97118,97118,97118,97118,97118,97118,97061,97061,97061,97061,97061,97061,97061,97061,97061,97061,97061,97181,97181,97181,97181,97181,97181,97181,97181,97113,97113,97113,97113,97113,97256,97256,97256,97256,97256,97256,97256,97256,97256,97256,97245,97245,97245,97245,97245,97245,97245,97245,97245,97245,97084,97084,97084,97084,97084,97084,97084,97084,96921,96921,96808,96808,96808,96808,96808,null,96808,96808,96706,96706,96706,96706,96706,96706,96706,96706,96706,96706,96539,96539,96539,96539,96539,96539,96539,96539,96539,96539,96539,96679,96679,96679,96679,96679,96679,96669,96669,96669,96669,96669,96669,96669,96669,96669,96669,96669,96696,96696,96696,96696,96696,96696,96696,96696,96696,96696,96826,96826,96826,96826,96826,96826,96826,96847,96847,96847,96847,96847,96868,96868,96868,96868,96868,96868,96868,96868,96868,96868,96868,97455,97455,97455,97455,97455,97455,97455,97455,97455,97455,97575,97575,97575,97575,97575,97575,97575,97731,97731,97731,97731,97731,97649,97649,97649,97649,97649,97649,97649,97649,97649,97649,97649,97564,97564,97564,97564,97564,97564,97564,97564,97564,97490,97490,97490,97490,null,null,null,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ID<\/th>\n      <th>Runde<\/th>\n      <th>Dato<\/th>\n      <th>Tid<\/th>\n      <th>Hjemmehold<\/th>\n      <th>Udehold<\/th>\n      <th>Hjemmeholdsmål<\/th>\n      <th>Udeholdsmål<\/th>\n      <th>Tilskuere<\/th>\n      <th>Ugedag<\/th>\n      <th>Superliga/1.Division<\/th>\n      <th>Form<\/th>\n      <th>Ferieuger<\/th>\n      <th>Modstander Type<\/th>\n      <th>Dagtype<\/th>\n      <th>Tid på dagen<\/th>\n      <th>Populær kanal<\/th>\n      <th>Temperatur<\/th>\n      <th>Vindhastighed<\/th>\n      <th>Fugtighed<\/th>\n      <th>Synlighed<\/th>\n      <th>Nedbør sidste time<\/th>\n      <th>Fugtighed den sidste time<\/th>\n      <th>Helligd.<\/th>\n      <th>indbyggertal<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="crisp-dm-metodology" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="crisp-dm-metodology"><span class="header-section-number">2.3</span> CRISP-DM metodology</h2>
<p>The Cross-Industry Standard Process for Data Mining (CRISP-DM) offers a systematic framework for conducting data mining projects. It encompasses six distinct stages: comprehending the business context, understanding the data, preparing the data, developing models, evaluating these models, and implementing them.</p>
<section id="business-understanding" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="business-understanding"><span class="header-section-number">2.3.1</span> Business understanding</h3>
<p>Viborg FF wishes to predict the number of spectators attending their home games. This is valuable for all departments, but especially the commercial department can benefit from this. Among other things, this can enable them to better plan marketing efforts, purchases, and work schedules.</p>
</section>
<section id="data-understanding" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="data-understanding"><span class="header-section-number">2.3.2</span> Data Understanding</h3>
<p>First we remove the timeperiod where VFF was restricted by corona. After this we filter the dataset so its only showing the VFF homegames and remove all the irellevant columns.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>start_dato <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2020-03-07"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>slut_dato <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-04-16"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>sl_klar <span class="ot">&lt;-</span> sl_klar[<span class="sc">!</span>(sl_klar<span class="sc">$</span>Dato <span class="sc">&gt;=</span> start_dato <span class="sc">&amp;</span> sl_klar<span class="sc">$</span>Dato <span class="sc">&lt;=</span> slut_dato), ]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrerer NA værdier fra og kigger kun på hjemmestatistik </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>sl_klar <span class="ot">&lt;-</span> sl_klar <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hjemmehold <span class="sc">==</span> <span class="st">"Viborg FF"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Fjerner irrelevante variabler og samtidig også smider nogle variabler væk for at prøve at gøre modellen bedre. </span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>sl_klar <span class="ot">=</span> sl_klar <span class="sc">%&gt;%</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>ID, <span class="sc">-</span>Dato, <span class="sc">-</span>Tid,<span class="sc">-</span> Hjemmehold, <span class="sc">-</span>Udehold, <span class="sc">-</span>Hjemmeholdsmål, <span class="sc">-</span>Udeholdsmål, <span class="sc">-</span>Ugedag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-preparation" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="data-preparation"><span class="header-section-number">2.3.3</span> Data Preparation</h3>
<p>After importing the data the data has been cleaned and quantitative and qualitative variables has been created</p>
</section>
<section id="modeling" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="modeling"><span class="header-section-number">2.3.4</span> Modeling</h3>
<section id="explorative-analysis" class="level4" data-number="2.3.4.1">
<h4 data-number="2.3.4.1" class="anchored" data-anchor-id="explorative-analysis"><span class="header-section-number">2.3.4.1</span> Explorative analysis</h4>
<p>Dividing the dataset into a training set and a separate test set. The training set is used for model training and cross-validation, while the test set is used to evaluate the model’s performance on unknown data.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Tilskuere <span class="sc">~</span> ., sl_klar)[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> sl_klar<span class="sc">$</span>Tilskuere</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x), <span class="fu">nrow</span>(x)<span class="sc">*</span><span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> (<span class="sc">-</span>train)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>y.test <span class="ot">&lt;-</span> y[test]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Best subset selection</strong></p>
<p>Best Subset Selection involves examining all possible combinations of predictors and selecting the combination that results in the best model according to a specific criterion, such as the lowest prediction error or the highest R-squared value. This method is particularly useful for identifying models that balance complexity and predictive accuracy, thereby helping to avoid overfitting while still capturing essential features of the data.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>predict.regsubsets <span class="ot">&lt;-</span> <span class="cf">function</span>(object, newdata, id, ...) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  form <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(object<span class="sc">$</span>call[[<span class="dv">2</span>]])</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(form, newdata)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  coefi <span class="ot">&lt;-</span> <span class="fu">coef</span>(object, <span class="at">id =</span> id)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  xvars <span class="ot">&lt;-</span> <span class="fu">names</span>(coefi)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  mat[, xvars] <span class="sc">%*%</span> coefi</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>sl_klar_train <span class="ot">&lt;-</span> sl_klar[train,]</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>sl_klar_test <span class="ot">&lt;-</span> sl_klar[test,]</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="co"># Vi danner 10 folds</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(sl_klar_train) <span class="co"># registrerer hvor mange observationer, vi har.</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>) </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>folds <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>k, <span class="at">length =</span> n)) <span class="co">#Vi tildeler en værdi mellem 1 og n</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sl_klar_train)[<span class="dv">2</span>]  <span class="co"># Der er 17 variabler og dermed 16 prædiktorer</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>cv.errors <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, k, <span class="dv">16</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>                    <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="cn">NULL</span>, <span class="fu">paste</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>)))</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>cv.errors</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k) { <span class="co"># her gennemløbes alle folds</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  best.fit <span class="ot">&lt;-</span> <span class="fu">regsubsets</span>(Tilskuere <span class="sc">~</span> .,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> sl_klar_train[folds <span class="sc">!=</span> j, ],</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nvmax =</span> <span class="dv">16</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>) { <span class="co"># her gennemløbes alle kandidatmodeller</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(best.fit, sl_klar_train[folds <span class="sc">==</span> j, ], <span class="at">id =</span> i)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># predict-funktionen ovenfor kalder den funktion, vi har lavet tidligere. </span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    cv.errors[j, i] <span class="ot">&lt;-</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mean</span>((sl_klar_train<span class="sc">$</span>Tilskuere[folds <span class="sc">==</span> j] <span class="sc">-</span> pred)<span class="sc">^</span><span class="dv">2</span>) <span class="co"># Her udregnes MSE for hver </span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># fold for hver kandidatmodel </span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As we can se, the best model has 9 variables. But in order so keep the model as simple at posible it is better to select less variables if the increase in MSE is small.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>mean.cv.errors <span class="ot">&lt;-</span> <span class="fu">apply</span>(cv.errors, <span class="dv">2</span>, mean) <span class="co"># apply er en smart funktion, der </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># gennemløber alle rækker og tager gennemsnittet henover hver søjle, som svarer </span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># til hver kandidatmodel.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>mean.cv.errors <span class="co"># Vi får altså en gennemsnitlig MSE for hver kandidatmodel.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      1       2       3       4       5       6       7       8       9      10 
1610857 1227620 1142769 1203466 1174262 1137887 1175454 1160106 1130789 1145721 
     11      12      13      14      15      16 
1170173 1191862 1195195 1192006 1193528 1193982 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mean.cv.errors, <span class="at">type =</span> <span class="st">"b"</span>) <span class="co"># Her plottes disse gennemsnit for hver størrelse,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dette viser den model med den laveste MSE. Det er en model med 9 variabler</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(mean.cv.errors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>9 
9 </code></pre>
</div>
</div>
<p>Therefor I we chose a model with 3 variables, and the model is tested on the test data.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Her fittes modellen til ALLE træningsdata</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>reg.best <span class="ot">&lt;-</span> <span class="fu">regsubsets</span>(Tilskuere <span class="sc">~</span> ., <span class="at">data =</span> sl_klar_train,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nvmax =</span> <span class="dv">16</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(reg.best, <span class="dv">3</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Her testes modellen på nye data (Test data)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>pred_best_subset <span class="ot">&lt;-</span> <span class="fu">predict</span>(reg.best, sl_klar_test, <span class="at">id =</span> <span class="dv">3</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>mse_best_subset <span class="ot">&lt;-</span> <span class="fu">mean</span>((sl_klar[test,]<span class="sc">$</span>Tilskuere <span class="sc">-</span> pred_best_subset)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>mse_best_subset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Lasso</strong></p>
<p>Choosing Optimal Lambda (or Alpha): For each combination of lambda values (both for Lasso and Ridge), the model is trained on k-1 folds and validated on the remaining fold. The average MSE across all folds for each lambda value is calculated.</p>
<div class="cell" data-result="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>grid <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>lasso.mod <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(x[train, ], y[train], <span class="at">alpha =</span> <span class="dv">1</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">lambda =</span> grid, <span class="at">thresh =</span> <span class="fl">1e-12</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>cv.out <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(x[train, ], y[train], <span class="at">alpha =</span> <span class="dv">1</span>, </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">nfolds =</span><span class="dv">10</span>, <span class="at">lambda =</span> grid)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>cv.out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:  cv.glmnet(x = x[train, ], y = y[train], lambda = grid, nfolds = 10,      alpha = 1) 

Measure: Mean-Squared Error 

    Lambda Index Measure     SE Nonzero
min  37.65    15 1135055 176171      12
1se 100.00     1 1163914 174987       9</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cv.out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>bestlam <span class="ot">&lt;-</span> cv.out<span class="sc">$</span>lambda.min</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>bestlam_1se <span class="ot">&lt;-</span> cv.out<span class="sc">$</span>lambda<span class="fl">.1</span>se</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>lasso.pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(lasso.mod, <span class="at">s =</span> bestlam, <span class="at">newx =</span> x[test, ]) </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>mse_lasso <span class="ot">&lt;-</span> <span class="fu">mean</span>((lasso.pred <span class="sc">-</span> y.test)<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Linear regression</strong></p>
<p>In order to determin the significance of the qualitative variables I perform a corelationanalysis using a corelation heatmap. I wish to determine if there is any correlation between the quantitative variables and Y (Tilskuere)</p>
<div class="cell" data-result="true">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here we can determin that there is a correlation between Indbyggertal and Synlighed. Therefore we will now check for correlation between these two variables. I am filtering out the non relevant variables as well.</p>
<div class="cell" data-result="false" data-execute="false">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beregn korrelationen</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>korrelation <span class="ot">&lt;-</span> <span class="fu">cor</span>(sl_klar<span class="sc">$</span>indbyggertal, sl_klar<span class="sc">$</span>Synlighed, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>numeric_data <span class="ot">&lt;-</span> sl_klar[<span class="fu">sapply</span>(sl_klar, is.numeric)]</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Jeg fravælger Fugtighed, vindhastighed, Nedbør sidste time, Fugtighed sidste time og temperatur.</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>fulldata4 <span class="ot">&lt;-</span> sl_klar <span class="sc">%&gt;%</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Fugtighed, <span class="sc">-</span>Vindhastighed, <span class="sc">-</span><span class="st">`</span><span class="at">Nedbør sidste time</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Fugtighed den sidste time</span><span class="st">`</span>, <span class="sc">-</span>Temperatur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I will now check the significance of each variable. Here we can se that the significant variables are: Superliga, ferie, Dagtype, Tid på dagen og Synlighed, and I chose to continue with these.</p>
<div class="cell" data-result="true">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Tilskuere ~ ., data = fulldata4)

Residuals:
    Min      1Q  Median      3Q     Max 
-2810.2  -523.2  -124.1   499.7  4132.8 

Coefficients:
                         Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            -1.589e+03  4.733e+03  -0.336  0.73736    
Runde                   8.281e+00  7.807e+00   1.061  0.28998    
`Superliga/1.Division`  1.358e+03  1.832e+02   7.413 2.48e-12 ***
Form                    2.515e+02  1.521e+02   1.653  0.09964 .  
Ferieuger              -5.547e+02  2.597e+02  -2.136  0.03375 *  
`Modstander Type`      -1.372e+03  1.177e+02 -11.654  &lt; 2e-16 ***
Dagtype                 1.854e+02  9.265e+01   2.002  0.04652 *  
`Tid på dagen`          3.332e+02  1.234e+02   2.700  0.00746 ** 
`Populær kanal`        -1.479e-01  1.549e+02  -0.001  0.99924    
Synlighed               1.327e-02  5.331e-03   2.489  0.01352 *  
Helligd.                1.481e+02  2.122e+02   0.698  0.48581    
indbyggertal            5.878e-02  5.044e-02   1.165  0.24515    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 981.8 on 225 degrees of freedom
Multiple R-squared:  0.7128,    Adjusted R-squared:  0.6988 
F-statistic: 50.77 on 11 and 225 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 778736.7</code></pre>
</div>
</div>
</section>
</section>
<section id="evaluation" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="evaluation"><span class="header-section-number">2.3.5</span> Evaluation</h3>
<p>The best performing model is here shown as the linear regression, since the MSE is lowest so I am choosing to continue with this model.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| result: true</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>mse_lin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 778736.7</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mse_lasso</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 842538.7</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mse_best_subset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 795302</code></pre>
</div>
</div>
</section>
<section id="implementation" class="level3" data-number="2.3.6">
<h3 data-number="2.3.6" class="anchored" data-anchor-id="implementation"><span class="header-section-number">2.3.6</span> Implementation</h3>
<p>The prediction has been transformed into a Shiny app that can be implemented in the VFF system. The app can be seen <a href="https://mettej.shinyapps.io/portefolio/">here.</a></p>
</section>
</section>
</section>
<section id="conclusion" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Conclusion</h1>
<p>The model requires more work. The model is build only on publicly available data. In order to improve the prediction for more useful results the model should be updated with internal data. This could be variables such as markting data, events in the local society, ticket prices etc.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>